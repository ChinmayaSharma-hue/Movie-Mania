{"ast":null,"code":"import _classCallCheck from\"E:/Web Dev/project/trydjango/src/movie_db_site/movie-recommendation-site/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"E:/Web Dev/project/trydjango/src/movie_db_site/movie-recommendation-site/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"E:/Web Dev/project/trydjango/src/movie_db_site/movie-recommendation-site/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"E:/Web Dev/project/trydjango/src/movie_db_site/movie-recommendation-site/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import axios from\"axios\";import bluevelvet from\"../images/bluevelvet2.jpg\";import\"../stylesheets/Login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SubmitForm=/*#__PURE__*/function(_Component){_inherits(SubmitForm,_Component);var _super=_createSuper(SubmitForm);function SubmitForm(){var _this;_classCallCheck(this,SubmitForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:'',email:'',password:''};_this.handleSubmit=function(event){event.preventDefault();var user={username:_this.state.username,password:_this.state.password};console.log(user);axios.post('http://127.0.0.1:8000/accounts/api/auth/login',user).then(function(res){console.log(res);console.log(res.data);localStorage.setItem('token',res.data.token);window.location.href=\"/\";});};_this.handleUsernameChange=function(event){_this.setState({username:event.target.value});};_this.handlePasswordChange=function(event){_this.setState({password:event.target.value});};return _this;}_createClass(SubmitForm,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"signin-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"signin-form-leftside\",children:/*#__PURE__*/_jsx(\"img\",{src:bluevelvet,alt:\"blue velvet\",className:\"signin-form-leftside-image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"signin-form-rightside\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"signin-form-header\",children:\"Log In\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,className:\"form\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"username-label\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"username\",id:\"username\",name:\"username\",placeholder:\"Username\",spellCheck:\"false\",onChange:this.handleUsernameChange}),/*#__PURE__*/_jsx(\"label\",{className:\"password-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"password\",id:\"password\",name:\"password\",placeholder:\"Password\",spellCheck:\"false\",onChange:this.handlePasswordChange}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"submit\",value:\"Log In\"})]})]})]});}}]);return SubmitForm;}(Component);export default SubmitForm;","map":{"version":3,"names":["React","Component","axios","bluevelvet","SubmitForm","state","username","email","password","handleSubmit","event","preventDefault","user","console","log","post","then","res","data","localStorage","setItem","token","window","location","href","handleUsernameChange","setState","target","value","handlePasswordChange"],"sources":["E:/Web Dev/project/trydjango/src/movie_db_site/movie-recommendation-site/src/pages/Login.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport axios from \"axios\";\r\nimport bluevelvet from \"../images/bluevelvet2.jpg\";\r\nimport \"../stylesheets/Login.css\";\r\n\r\nclass SubmitForm extends Component {\r\n    state = {\r\n        username: '',\r\n        email: '',\r\n        password: ''\r\n    };\r\n    /* This is where the magic happens \r\n    */\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n        const user = {\r\n            username: this.state.username,\r\n            password: this.state.password\r\n        }\r\n        console.log(user);\r\n        axios.post('http://127.0.0.1:8000/accounts/api/auth/login', user)\r\n            .then(res => {\r\n                console.log(res);\r\n                console.log(res.data);\r\n                localStorage.setItem('token', res.data.token);\r\n                window.location.href = \"/\";\r\n            })\r\n    }\r\n    handleUsernameChange = event => {\r\n        this.setState({\r\n            username: event.target.value,\r\n        });\r\n    }\r\n\r\n    handlePasswordChange = event => {\r\n        this.setState({\r\n            password: event.target.value,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"signin-form\">\r\n                <div className='signin-form-leftside'>\r\n                    <img src={bluevelvet} alt=\"blue velvet\" className=\"signin-form-leftside-image\" />\r\n                </div>\r\n                <div className='signin-form-rightside'>\r\n                    <div className=\"signin-form-header\">Log In</div>\r\n                    <form onSubmit={this.handleSubmit} className=\"form\">\r\n                        <label className=\"username-label\">Username</label>\r\n                        <input type=\"text\" className=\"username\" id=\"username\" name=\"username\" placeholder=\"Username\" spellCheck=\"false\" onChange={this.handleUsernameChange} />\r\n                        <label className=\"password-label\">Password</label>\r\n                        <input type=\"text\" className=\"password\" id=\"password\" name=\"password\" placeholder=\"Password\" spellCheck=\"false\" onChange={this.handlePasswordChange} />\r\n                        <input type=\"submit\" className=\"submit\" value=\"Log In\" />\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default SubmitForm;\r\n"],"mappings":"wmBAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,WAAP,KAAuB,2BAAvB,CACA,MAAO,0BAAP,C,2FAEMC,W,2UACFC,K,CAAQ,CACJC,QAAQ,CAAE,EADN,CAEJC,KAAK,CAAE,EAFH,CAGJC,QAAQ,CAAE,EAHN,C,OAORC,Y,CAAe,SAAAC,KAAK,CAAI,CACpBA,KAAK,CAACC,cAAN,GACA,GAAMC,KAAI,CAAG,CACTN,QAAQ,CAAE,MAAKD,KAAL,CAAWC,QADZ,CAETE,QAAQ,CAAE,MAAKH,KAAL,CAAWG,QAFZ,CAAb,CAIAK,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAV,KAAK,CAACa,IAAN,CAAW,+CAAX,CAA4DH,IAA5D,EACKI,IADL,CACU,SAAAC,GAAG,CAAI,CACTJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,EACAJ,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,IAAhB,EACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BH,GAAG,CAACC,IAAJ,CAASG,KAAvC,EACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CACH,CANL,EAOH,C,OACDC,oB,CAAuB,SAAAf,KAAK,CAAI,CAC5B,MAAKgB,QAAL,CAAc,CACVpB,QAAQ,CAAEI,KAAK,CAACiB,MAAN,CAAaC,KADb,CAAd,EAGH,C,OAEDC,oB,CAAuB,SAAAnB,KAAK,CAAI,CAC5B,MAAKgB,QAAL,CAAc,CACVlB,QAAQ,CAAEE,KAAK,CAACiB,MAAN,CAAaC,KADb,CAAd,EAGH,C,4DAED,iBAAS,CACL,mBACI,aAAK,SAAS,CAAC,aAAf,wBACI,YAAK,SAAS,CAAC,sBAAf,uBACI,YAAK,GAAG,CAAEzB,UAAV,CAAsB,GAAG,CAAC,aAA1B,CAAwC,SAAS,CAAC,4BAAlD,EADJ,EADJ,cAII,aAAK,SAAS,CAAC,uBAAf,wBACI,YAAK,SAAS,CAAC,oBAAf,oBADJ,cAEI,cAAM,QAAQ,CAAE,KAAKM,YAArB,CAAmC,SAAS,CAAC,MAA7C,wBACI,cAAO,SAAS,CAAC,gBAAjB,sBADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,UAA7B,CAAwC,EAAE,CAAC,UAA3C,CAAsD,IAAI,CAAC,UAA3D,CAAsE,WAAW,CAAC,UAAlF,CAA6F,UAAU,CAAC,OAAxG,CAAgH,QAAQ,CAAE,KAAKgB,oBAA/H,EAFJ,cAGI,cAAO,SAAS,CAAC,gBAAjB,sBAHJ,cAII,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,UAA7B,CAAwC,EAAE,CAAC,UAA3C,CAAsD,IAAI,CAAC,UAA3D,CAAsE,WAAW,CAAC,UAAlF,CAA6F,UAAU,CAAC,OAAxG,CAAgH,QAAQ,CAAE,KAAKI,oBAA/H,EAJJ,cAKI,cAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAC,QAA/B,CAAwC,KAAK,CAAC,QAA9C,EALJ,GAFJ,GAJJ,GADJ,CAiBH,C,wBArDoB5B,S,EAuDzB,cAAeG,WAAf"},"metadata":{},"sourceType":"module"}
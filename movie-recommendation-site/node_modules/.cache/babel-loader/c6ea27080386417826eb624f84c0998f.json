{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"E:/Web Dev/project/trydjango/src/movie_db_site/movie-recommendation-site/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\n\nvar _slicedToArray = require(\"E:/Web Dev/project/trydjango/src/movie_db_site/movie-recommendation-site/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\n\nvar _objectSpread = require(\"E:/Web Dev/project/trydjango/src/movie_db_site/movie-recommendation-site/node_modules/@babel/runtime/helpers/objectSpread2.js\").default;\n\nvar _asyncToGenerator = require(\"E:/Web Dev/project/trydjango/src/movie_db_site/movie-recommendation-site/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\n\nvar _classCallCheck = require(\"E:/Web Dev/project/trydjango/src/movie_db_site/movie-recommendation-site/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"E:/Web Dev/project/trydjango/src/movie_db_site/movie-recommendation-site/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nvar _defineProperty = require(\"E:/Web Dev/project/trydjango/src/movie_db_site/movie-recommendation-site/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isLocalURL = isLocalURL;\nexports.interpolateAs = interpolateAs;\nexports.resolveHref = resolveHref;\nexports.createKey = createKey;\nexports.default = void 0;\n\nvar _normalizeTrailingSlash = require(\"../../../client/normalize-trailing-slash\");\n\nvar _removeTrailingSlash = require(\"./utils/remove-trailing-slash\");\n\nvar _routeLoader = require(\"../../../client/route-loader\");\n\nvar _script = require(\"../../../client/script\");\n\nvar _isError = _interopRequireWildcard(require(\"../../../lib/is-error\"));\n\nvar _denormalizePagePath = require(\"../page-path/denormalize-page-path\");\n\nvar _normalizeLocalePath = require(\"../i18n/normalize-locale-path\");\n\nvar _mitt = _interopRequireDefault(require(\"../mitt\"));\n\nvar _utils = require(\"../utils\");\n\nvar _isDynamic = require(\"./utils/is-dynamic\");\n\nvar _parseRelativeUrl = require(\"./utils/parse-relative-url\");\n\nvar _querystring = require(\"./utils/querystring\");\n\nvar _resolveRewrites = _interopRequireDefault(require(\"./utils/resolve-rewrites\"));\n\nvar _routeMatcher = require(\"./utils/route-matcher\");\n\nvar _routeRegex = require(\"./utils/route-regex\");\n\nvar _formatUrl = require(\"./utils/format-url\");\n\nvar _detectDomainLocale = require(\"../../../client/detect-domain-locale\");\n\nvar _parsePath = require(\"./utils/parse-path\");\n\nvar _addLocale = require(\"../../../client/add-locale\");\n\nvar _removeLocale = require(\"../../../client/remove-locale\");\n\nvar _removeBasePath = require(\"../../../client/remove-base-path\");\n\nvar _addBasePath = require(\"../../../client/add-base-path\");\n\nvar _hasBasePath = require(\"../../../client/has-base-path\");\n\nvar _getNextPathnameInfo = require(\"./utils/get-next-pathname-info\");\n\nvar _formatNextPathnameInfo = require(\"./utils/format-next-pathname-info\");\n\nvar Router = /*#__PURE__*/function () {\n  // Server Data Cache\n  function Router(_pathname, _query, _as, _ref) {\n    var _this = this;\n\n    var initialProps = _ref.initialProps,\n        pageLoader = _ref.pageLoader,\n        App = _ref.App,\n        wrapApp = _ref.wrapApp,\n        Component = _ref.Component,\n        err = _ref.err,\n        subscription = _ref.subscription,\n        isFallback = _ref.isFallback,\n        locale = _ref.locale,\n        locales = _ref.locales,\n        defaultLocale = _ref.defaultLocale,\n        domainLocales = _ref.domainLocales,\n        isPreview = _ref.isPreview,\n        isRsc = _ref.isRsc;\n\n    _classCallCheck(this, Router);\n\n    _defineProperty(this, \"sdc\", {});\n\n    _defineProperty(this, \"isFirstPopStateEvent\", true);\n\n    _defineProperty(this, \"_key\", createKey());\n\n    _defineProperty(this, \"onPopState\", function (e) {\n      var isFirstPopStateEvent = _this.isFirstPopStateEvent;\n      _this.isFirstPopStateEvent = false;\n      var state = e.state;\n\n      if (!state) {\n        // We get state as undefined for two reasons.\n        //  1. With older safari (< 8) and older chrome (< 34)\n        //  2. When the URL changed with #\n        //\n        // In the both cases, we don't need to proceed and change the route.\n        // (as it's already changed)\n        // But we can simply replace the state with the new changes.\n        // Actually, for (1) we don't need to nothing. But it's hard to detect that event.\n        // So, doing the following for (1) does no harm.\n        var _pathname2 = _this.pathname,\n            query = _this.query;\n\n        _this.changeState(\"replaceState\", (0, _formatUrl).formatWithValidation({\n          pathname: (0, _addBasePath).addBasePath(_pathname2),\n          query: query\n        }), (0, _utils).getURL());\n\n        return;\n      }\n\n      if (!state.__N) {\n        return;\n      } // Safari fires popstateevent when reopening the browser.\n\n\n      if (isFirstPopStateEvent && _this.locale === state.options.locale && state.as === _this.asPath) {\n        return;\n      }\n\n      var forcedScroll;\n      var url = state.url,\n          as = state.as,\n          options = state.options,\n          key = state.key;\n\n      if (process.env.__NEXT_SCROLL_RESTORATION) {\n        if (manualScrollRestoration) {\n          if (_this._key !== key) {\n            // Snapshot current scroll position:\n            try {\n              sessionStorage.setItem(\"__next_scroll_\" + _this._key, JSON.stringify({\n                x: self.pageXOffset,\n                y: self.pageYOffset\n              }));\n            } catch (_unused) {} // Restore old scroll position:\n\n\n            try {\n              var v = sessionStorage.getItem(\"__next_scroll_\" + key);\n              forcedScroll = JSON.parse(v);\n            } catch (_unused2) {\n              forcedScroll = {\n                x: 0,\n                y: 0\n              };\n            }\n          }\n        }\n      }\n\n      _this._key = key;\n\n      var _parseRelativeUrl2 = (0, _parseRelativeUrl).parseRelativeUrl(url),\n          pathname = _parseRelativeUrl2.pathname; // Make sure we don't re-render on initial load,\n      // can be caused by navigating back from an external site\n\n\n      if (_this.isSsr && as === (0, _addBasePath).addBasePath(_this.asPath) && pathname === (0, _addBasePath).addBasePath(_this.pathname)) {\n        return;\n      } // If the downstream application returns falsy, return.\n      // They will then be responsible for handling the event.\n\n\n      if (_this._bps && !_this._bps(state)) {\n        return;\n      }\n\n      _this.change(\"replaceState\", url, as, Object.assign({}, options, {\n        shallow: options.shallow && _this._shallow,\n        locale: options.locale || _this.defaultLocale,\n        // @ts-ignore internal value not exposed on types\n        _h: 0\n      }), forcedScroll);\n    });\n\n    // represents the current component key\n    var route = (0, _removeTrailingSlash).removeTrailingSlash(_pathname); // set up the component cache (by route keys)\n\n    this.components = {}; // We should not keep the cache, if there's an error\n    // Otherwise, this cause issues when when going back and\n    // come again to the errored page.\n\n    if (_pathname !== \"/_error\") {\n      this.components[route] = {\n        Component: Component,\n        initial: true,\n        props: initialProps,\n        err: err,\n        __N_SSG: initialProps && initialProps.__N_SSG,\n        __N_SSP: initialProps && initialProps.__N_SSP,\n        __N_RSC: !!isRsc\n      };\n    }\n\n    this.components[\"/_app\"] = {\n      Component: App,\n      styleSheets: []\n    }; // Backwards compat for Router.router.events\n    // TODO: Should be remove the following major version as it was never documented\n\n    this.events = Router.events;\n    this.pageLoader = pageLoader; // if auto prerendered and dynamic route wait to update asPath\n    // until after mount to prevent hydration mismatch\n\n    var autoExportDynamic = (0, _isDynamic).isDynamicRoute(_pathname) && self.__NEXT_DATA__.autoExport;\n\n    this.basePath = process.env.__NEXT_ROUTER_BASEPATH || \"\";\n    this.sub = subscription;\n    this.clc = null;\n    this._wrapApp = wrapApp; // make sure to ignore extra popState in safari on navigating\n    // back from external site\n\n    this.isSsr = true;\n    this.isLocaleDomain = false;\n    this.isReady = !!(self.__NEXT_DATA__.gssp || self.__NEXT_DATA__.gip || self.__NEXT_DATA__.appGip && !self.__NEXT_DATA__.gsp || !autoExportDynamic && !self.location.search && !process.env.__NEXT_HAS_REWRITES);\n\n    if (process.env.__NEXT_I18N_SUPPORT) {\n      this.locales = locales;\n      this.defaultLocale = defaultLocale;\n      this.domainLocales = domainLocales;\n      this.isLocaleDomain = !!(0, _detectDomainLocale).detectDomainLocale(domainLocales, self.location.hostname);\n    }\n\n    this.state = {\n      route: route,\n      pathname: _pathname,\n      query: _query,\n      asPath: autoExportDynamic ? _pathname : _as,\n      isPreview: !!isPreview,\n      locale: process.env.__NEXT_I18N_SUPPORT ? locale : undefined,\n      isFallback: isFallback\n    };\n    this._initialMatchesMiddlewarePromise = Promise.resolve(false);\n\n    if (typeof window !== \"undefined\") {\n      // make sure \"as\" doesn't start with double slashes or else it can\n      // throw an error as it's considered invalid\n      if (!_as.startsWith(\"//\")) {\n        // in order for `e.state` to work on the `onpopstate` event\n        // we have to register the initial route upon initialization\n        var options = {\n          locale: locale\n        };\n        var asPath = (0, _utils).getURL();\n        this._initialMatchesMiddlewarePromise = matchesMiddleware({\n          router: this,\n          locale: locale,\n          asPath: asPath\n        }).then(function (matches) {\n          options._shouldResolveHref = _as !== _pathname;\n\n          _this.changeState(\"replaceState\", matches ? asPath : (0, _formatUrl).formatWithValidation({\n            pathname: (0, _addBasePath).addBasePath(_pathname),\n            query: _query\n          }), asPath, options);\n\n          return matches;\n        });\n      }\n\n      window.addEventListener(\"popstate\", this.onPopState); // enable custom scroll restoration handling when available\n      // otherwise fallback to browser's default handling\n\n      if (process.env.__NEXT_SCROLL_RESTORATION) {\n        if (manualScrollRestoration) {\n          window.history.scrollRestoration = \"manual\";\n        }\n      }\n    }\n  }\n\n  _createClass(Router, [{\n    key: \"reload\",\n    value: function reload() {\n      window.location.reload();\n    }\n    /**\n    * Go back in history\n    */\n\n  }, {\n    key: \"back\",\n    value: function back() {\n      window.history.back();\n    }\n    /**\n    * Performs a `pushState` with arguments\n    * @param url of the route\n    * @param as masks `url` for the browser\n    * @param options object you can define `shallow` and other options\n    */\n\n  }, {\n    key: \"push\",\n    value: function push(url, as) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      if (process.env.__NEXT_SCROLL_RESTORATION) {\n        // TODO: remove in the future when we update history before route change\n        // is complete, as the popstate event should handle this capture.\n        if (manualScrollRestoration) {\n          try {\n            // Snapshot scroll position right before navigating to a new page:\n            sessionStorage.setItem(\"__next_scroll_\" + this._key, JSON.stringify({\n              x: self.pageXOffset,\n              y: self.pageYOffset\n            }));\n          } catch (_unused3) {}\n        }\n      }\n\n      var _prepareUrlAs = prepareUrlAs(this, url, as);\n\n      url = _prepareUrlAs.url;\n      as = _prepareUrlAs.as;\n      return this.change(\"pushState\", url, as, options);\n    }\n    /**\n    * Performs a `replaceState` with arguments\n    * @param url of the route\n    * @param as masks `url` for the browser\n    * @param options object you can define `shallow` and other options\n    */\n\n  }, {\n    key: \"replace\",\n    value: function replace(url, as) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var _prepareUrlAs2 = prepareUrlAs(this, url, as);\n\n      url = _prepareUrlAs2.url;\n      as = _prepareUrlAs2.as;\n      return this.change(\"replaceState\", url, as, options);\n    }\n  }, {\n    key: \"change\",\n    value: function () {\n      var _change = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(method, url, as, options, forcedScroll) {\n        var isQueryUpdating, shouldResolveHref, nextState, isSsr, prevLocale, parsedAs, localePathResult, didNavigate, ref, detectedDomain, asNoBasePath, _options$shallow, shallow, _options$scroll, scroll, routeProps, cleanedAs, localeChange, parsed, pathname, query, pages, rewrites, _yield$Promise$all, _yield$Promise$all2, resolvedAs, isMiddlewareMatch, rewritesResult, route, routeMatch, asPathname, routeRegex, shouldInterpolate, interpolatedAs, missingParams, ref1, ref2, routeInfo, prefixedAs, rewriteAs, localeResult, _routeRegex2, curRouteMatch, _routeInfo, error, props, __N_SSG, __N_SSP, component, scripts, destination, parsedHref, _prepareUrlAs3, newUrl, newAs, notFoundRoute, _route, isValidShallowRoute, _scroll, shouldScroll, resetScroll, hashRegex;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (isLocalURL(url)) {\n                  _context.next = 3;\n                  break;\n                }\n\n                handleHardNavigation({\n                  url: url,\n                  router: this\n                });\n                return _context.abrupt(\"return\", false);\n\n              case 3:\n                // WARNING: `_h` is an internal option for handing Next.js client-side\n                // hydration. Your app should _never_ use this property. It may change at\n                // any time without notice.\n                isQueryUpdating = options._h;\n                shouldResolveHref = isQueryUpdating || options._shouldResolveHref || (0, _parsePath).parsePath(url).pathname === (0, _parsePath).parsePath(as).pathname;\n                nextState = _objectSpread({}, this.state); // for static pages with query params in the URL we delay\n                // marking the router ready until after the query is updated\n                // or a navigation has occurred\n\n                this.isReady = true;\n                isSsr = this.isSsr;\n\n                if (!isQueryUpdating) {\n                  this.isSsr = false;\n                } // if a route transition is already in progress before\n                // the query updating is triggered ignore query updating\n\n\n                if (!(isQueryUpdating && this.clc)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", false);\n\n              case 11:\n                prevLocale = nextState.locale;\n\n                if (!process.env.__NEXT_I18N_SUPPORT) {\n                  _context.next = 24;\n                  break;\n                }\n\n                nextState.locale = options.locale === false ? this.defaultLocale : options.locale || nextState.locale;\n\n                if (typeof options.locale === \"undefined\") {\n                  options.locale = nextState.locale;\n                }\n\n                parsedAs = (0, _parseRelativeUrl).parseRelativeUrl((0, _hasBasePath).hasBasePath(as) ? (0, _removeBasePath).removeBasePath(as) : as);\n                localePathResult = (0, _normalizeLocalePath).normalizeLocalePath(parsedAs.pathname, this.locales);\n\n                if (localePathResult.detectedLocale) {\n                  nextState.locale = localePathResult.detectedLocale;\n                  parsedAs.pathname = (0, _addBasePath).addBasePath(parsedAs.pathname);\n                  as = (0, _formatUrl).formatWithValidation(parsedAs);\n                  url = (0, _addBasePath).addBasePath((0, _normalizeLocalePath).normalizeLocalePath((0, _hasBasePath).hasBasePath(url) ? (0, _removeBasePath).removeBasePath(url) : url, this.locales).pathname);\n                }\n\n                didNavigate = false; // we need to wrap this in the env check again since regenerator runtime\n                // moves this on its own due to the return\n\n                if (process.env.__NEXT_I18N_SUPPORT) {\n                  // if the locale isn't configured hard navigate to show 404 page\n                  if (!((ref = this.locales) == null ? void 0 : ref.includes(nextState.locale))) {\n                    parsedAs.pathname = (0, _addLocale).addLocale(parsedAs.pathname, nextState.locale);\n                    handleHardNavigation({\n                      url: (0, _formatUrl).formatWithValidation(parsedAs),\n                      router: this\n                    }); // this was previously a return but was removed in favor\n                    // of better dead code elimination with regenerator runtime\n\n                    didNavigate = true;\n                  }\n                }\n\n                detectedDomain = (0, _detectDomainLocale).detectDomainLocale(this.domainLocales, undefined, nextState.locale); // we need to wrap this in the env check again since regenerator runtime\n                // moves this on its own due to the return\n\n                if (process.env.__NEXT_I18N_SUPPORT) {\n                  // if we are navigating to a domain locale ensure we redirect to the\n                  // correct domain\n                  if (!didNavigate && detectedDomain && this.isLocaleDomain && self.location.hostname !== detectedDomain.domain) {\n                    asNoBasePath = (0, _removeBasePath).removeBasePath(as);\n                    handleHardNavigation({\n                      url: \"http\".concat(detectedDomain.http ? \"\" : \"s\", \"://\").concat(detectedDomain.domain).concat((0, _addBasePath).addBasePath(\"\".concat(nextState.locale === detectedDomain.defaultLocale ? \"\" : \"/\".concat(nextState.locale)).concat(asNoBasePath === \"/\" ? \"\" : asNoBasePath) || \"/\")),\n                      router: this\n                    }); // this was previously a return but was removed in favor\n                    // of better dead code elimination with regenerator runtime\n\n                    didNavigate = true;\n                  }\n                }\n\n                if (!didNavigate) {\n                  _context.next = 24;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", new Promise(function () {}));\n\n              case 24:\n                // marking route changes as a navigation start entry\n                if (_utils.ST) {\n                  performance.mark(\"routeChange\");\n                }\n\n                _options$shallow = options.shallow, shallow = _options$shallow === void 0 ? false : _options$shallow, _options$scroll = options.scroll, scroll = _options$scroll === void 0 ? true : _options$scroll;\n                routeProps = {\n                  shallow: shallow\n                };\n\n                if (this._inFlightRoute && this.clc) {\n                  if (!isSsr) {\n                    Router.events.emit(\"routeChangeError\", buildCancellationError(), this._inFlightRoute, routeProps);\n                  }\n\n                  this.clc();\n                  this.clc = null;\n                }\n\n                as = (0, _addBasePath).addBasePath((0, _addLocale).addLocale((0, _hasBasePath).hasBasePath(as) ? (0, _removeBasePath).removeBasePath(as) : as, options.locale, this.defaultLocale));\n                cleanedAs = (0, _removeLocale).removeLocale((0, _hasBasePath).hasBasePath(as) ? (0, _removeBasePath).removeBasePath(as) : as, nextState.locale);\n                this._inFlightRoute = as;\n                localeChange = prevLocale !== nextState.locale; // If the url change is only related to a hash change\n                // We should not proceed. We should only change the state.\n\n                if (!(!isQueryUpdating && this.onlyAHashChange(cleanedAs) && !localeChange)) {\n                  _context.next = 48;\n                  break;\n                }\n\n                nextState.asPath = cleanedAs;\n                Router.events.emit(\"hashChangeStart\", as, routeProps); // TODO: do we need the resolved href when only a hash change?\n\n                this.changeState(method, url, as, _objectSpread(_objectSpread({}, options), {}, {\n                  scroll: false\n                }));\n\n                if (scroll) {\n                  this.scrollToHash(cleanedAs);\n                }\n\n                _context.prev = 37;\n                _context.next = 40;\n                return this.set(nextState, this.components[nextState.route], null);\n\n              case 40:\n                _context.next = 46;\n                break;\n\n              case 42:\n                _context.prev = 42;\n                _context.t0 = _context[\"catch\"](37);\n\n                if ((0, _isError).default(_context.t0) && _context.t0.cancelled) {\n                  Router.events.emit(\"routeChangeError\", _context.t0, cleanedAs, routeProps);\n                }\n\n                throw _context.t0;\n\n              case 46:\n                Router.events.emit(\"hashChangeComplete\", as, routeProps);\n                return _context.abrupt(\"return\", true);\n\n              case 48:\n                parsed = (0, _parseRelativeUrl).parseRelativeUrl(url);\n                pathname = parsed.pathname, query = parsed.query; // The build manifest needs to be loaded before auto-static dynamic pages\n                // get their query parameters to allow ensuring they can be parsed properly\n                // when rewritten to\n\n                _context.prev = 50;\n                _context.next = 53;\n                return Promise.all([this.pageLoader.getPageList(), (0, _routeLoader).getClientBuildManifest(), this.pageLoader.getMiddlewareList()]);\n\n              case 53:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\n                pages = _yield$Promise$all2[0];\n                rewrites = _yield$Promise$all2[1].__rewrites;\n                _context.next = 63;\n                break;\n\n              case 59:\n                _context.prev = 59;\n                _context.t1 = _context[\"catch\"](50);\n                // If we fail to resolve the page list or client-build manifest, we must\n                // do a server-side transition:\n                handleHardNavigation({\n                  url: as,\n                  router: this\n                });\n                return _context.abrupt(\"return\", false);\n\n              case 63:\n                // If asked to change the current URL we should reload the current page\n                // (not location.reload() but reload getInitialProps and other Next.js stuffs)\n                // We also need to set the method = replaceState always\n                // as this should not go into the history (That's how browsers work)\n                // We should compare the new asPath to the current asPath, not the url\n                if (!this.urlIsNew(cleanedAs) && !localeChange) {\n                  method = \"replaceState\";\n                } // we need to resolve the as value using rewrites for dynamic SSG\n                // pages to allow building the data URL correctly\n\n\n                resolvedAs = as; // url and as should always be prefixed with basePath by this\n                // point by either next/link or router.push/replace so strip the\n                // basePath from the pathname to match the pages dir 1-to-1\n\n                pathname = pathname ? (0, _removeTrailingSlash).removeTrailingSlash((0, _removeBasePath).removeBasePath(pathname)) : pathname; // we don't attempt resolve asPath when we need to execute\n                // middleware as the resolving will occur server-side\n\n                _context.t2 = !options.shallow;\n\n                if (!_context.t2) {\n                  _context.next = 71;\n                  break;\n                }\n\n                _context.next = 70;\n                return matchesMiddleware({\n                  asPath: as,\n                  locale: nextState.locale,\n                  router: this\n                });\n\n              case 70:\n                _context.t2 = _context.sent;\n\n              case 71:\n                isMiddlewareMatch = _context.t2;\n\n                if (!(shouldResolveHref && pathname !== \"/_error\")) {\n                  _context.next = 85;\n                  break;\n                }\n\n                options._shouldResolveHref = true;\n\n                if (!(process.env.__NEXT_HAS_REWRITES && as.startsWith(\"/\"))) {\n                  _context.next = 83;\n                  break;\n                }\n\n                rewritesResult = (0, _resolveRewrites).default((0, _addBasePath).addBasePath((0, _addLocale).addLocale(cleanedAs, nextState.locale), true), pages, rewrites, query, function (p) {\n                  return resolveDynamicRoute(p, pages);\n                }, this.locales);\n\n                if (!rewritesResult.externalDest) {\n                  _context.next = 79;\n                  break;\n                }\n\n                handleHardNavigation({\n                  url: as,\n                  router: this\n                });\n                return _context.abrupt(\"return\", true);\n\n              case 79:\n                if (!isMiddlewareMatch) {\n                  resolvedAs = rewritesResult.asPath;\n                }\n\n                if (rewritesResult.matchedPage && rewritesResult.resolvedHref) {\n                  // if this directly matches a page we need to update the href to\n                  // allow the correct page chunk to be loaded\n                  pathname = rewritesResult.resolvedHref;\n                  parsed.pathname = (0, _addBasePath).addBasePath(pathname);\n\n                  if (!isMiddlewareMatch) {\n                    url = (0, _formatUrl).formatWithValidation(parsed);\n                  }\n                }\n\n                _context.next = 85;\n                break;\n\n              case 83:\n                parsed.pathname = resolveDynamicRoute(pathname, pages);\n\n                if (parsed.pathname !== pathname) {\n                  pathname = parsed.pathname;\n                  parsed.pathname = (0, _addBasePath).addBasePath(pathname);\n\n                  if (!isMiddlewareMatch) {\n                    url = (0, _formatUrl).formatWithValidation(parsed);\n                  }\n                }\n\n              case 85:\n                if (isLocalURL(as)) {\n                  _context.next = 90;\n                  break;\n                }\n\n                if (!(process.env.NODE_ENV !== \"production\")) {\n                  _context.next = 88;\n                  break;\n                }\n\n                throw new Error(\"Invalid href: \\\"\".concat(url, \"\\\" and as: \\\"\").concat(as, \"\\\", received relative href and external as\") + \"\\nSee more info: https://nextjs.org/docs/messages/invalid-relative-url-external-as\");\n\n              case 88:\n                handleHardNavigation({\n                  url: as,\n                  router: this\n                });\n                return _context.abrupt(\"return\", false);\n\n              case 90:\n                resolvedAs = (0, _removeLocale).removeLocale((0, _removeBasePath).removeBasePath(resolvedAs), nextState.locale);\n                route = (0, _removeTrailingSlash).removeTrailingSlash(pathname);\n                routeMatch = false;\n\n                if (!(0, _isDynamic).isDynamicRoute(route)) {\n                  _context.next = 108;\n                  break;\n                }\n\n                parsedAs = (0, _parseRelativeUrl).parseRelativeUrl(resolvedAs);\n                asPathname = parsedAs.pathname;\n                routeRegex = (0, _routeRegex).getRouteRegex(route);\n                routeMatch = (0, _routeMatcher).getRouteMatcher(routeRegex)(asPathname);\n                shouldInterpolate = route === asPathname;\n                interpolatedAs = shouldInterpolate ? interpolateAs(route, asPathname, query) : {};\n\n                if (!(!routeMatch || shouldInterpolate && !interpolatedAs.result)) {\n                  _context.next = 107;\n                  break;\n                }\n\n                missingParams = Object.keys(routeRegex.groups).filter(function (param) {\n                  return !query[param];\n                });\n\n                if (!(missingParams.length > 0 && !isMiddlewareMatch)) {\n                  _context.next = 105;\n                  break;\n                }\n\n                if (process.env.NODE_ENV !== \"production\") {\n                  console.warn(\"\".concat(shouldInterpolate ? \"Interpolating href\" : \"Mismatching `as` and `href`\", \" failed to manually provide \") + \"the params: \".concat(missingParams.join(\", \"), \" in the `href`'s `query`\"));\n                }\n\n                throw new Error((shouldInterpolate ? \"The provided `href` (\".concat(url, \") value is missing query values (\").concat(missingParams.join(\", \"), \") to be interpolated properly. \") : \"The provided `as` value (\".concat(asPathname, \") is incompatible with the `href` value (\").concat(route, \"). \")) + \"Read more: https://nextjs.org/docs/messages/\".concat(shouldInterpolate ? \"href-interpolation-failed\" : \"incompatible-href-as\"));\n\n              case 105:\n                _context.next = 108;\n                break;\n\n              case 107:\n                if (shouldInterpolate) {\n                  as = (0, _formatUrl).formatWithValidation(Object.assign({}, parsedAs, {\n                    pathname: interpolatedAs.result,\n                    query: omit(query, interpolatedAs.params)\n                  }));\n                } else {\n                  // Merge params into `query`, overwriting any specified in search\n                  Object.assign(query, routeMatch);\n                }\n\n              case 108:\n                if (!isQueryUpdating) {\n                  Router.events.emit(\"routeChangeStart\", as, routeProps);\n                }\n\n                _context.prev = 109;\n                _context.next = 112;\n                return this.getRouteInfo({\n                  route: route,\n                  pathname: pathname,\n                  query: query,\n                  as: as,\n                  resolvedAs: resolvedAs,\n                  routeProps: routeProps,\n                  locale: nextState.locale,\n                  isPreview: nextState.isPreview,\n                  hasMiddleware: isMiddlewareMatch\n                });\n\n              case 112:\n                routeInfo = _context.sent;\n\n                if (\"route\" in routeInfo && isMiddlewareMatch) {\n                  pathname = routeInfo.route || route;\n                  route = pathname;\n                  query = Object.assign({}, routeInfo.query || {}, query);\n\n                  if (routeMatch && pathname !== parsed.pathname) {\n                    Object.keys(routeMatch).forEach(function (key) {\n                      if (routeMatch && query[key] === routeMatch[key]) {\n                        delete query[key];\n                      }\n                    });\n                  }\n\n                  if ((0, _isDynamic).isDynamicRoute(pathname)) {\n                    prefixedAs = routeInfo.resolvedAs || (0, _addBasePath).addBasePath((0, _addLocale).addLocale(as, nextState.locale), true);\n                    rewriteAs = prefixedAs;\n\n                    if ((0, _hasBasePath).hasBasePath(rewriteAs)) {\n                      rewriteAs = (0, _removeBasePath).removeBasePath(rewriteAs);\n                    }\n\n                    if (process.env.__NEXT_I18N_SUPPORT) {\n                      localeResult = (0, _normalizeLocalePath).normalizeLocalePath(rewriteAs, this.locales);\n                      nextState.locale = localeResult.detectedLocale || nextState.locale;\n                      rewriteAs = localeResult.pathname;\n                    }\n\n                    _routeRegex2 = (0, _routeRegex).getRouteRegex(pathname);\n                    curRouteMatch = (0, _routeMatcher).getRouteMatcher(_routeRegex2)(rewriteAs);\n\n                    if (curRouteMatch) {\n                      Object.assign(query, curRouteMatch);\n                    }\n                  }\n                } // If the routeInfo brings a redirect we simply apply it.\n\n\n                if (!(\"type\" in routeInfo)) {\n                  _context.next = 121;\n                  break;\n                }\n\n                if (!(routeInfo.type === \"redirect-internal\")) {\n                  _context.next = 119;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", this.change(method, routeInfo.newUrl, routeInfo.newAs, options));\n\n              case 119:\n                handleHardNavigation({\n                  url: routeInfo.destination,\n                  router: this\n                });\n                return _context.abrupt(\"return\", new Promise(function () {}));\n\n              case 121:\n                _routeInfo = routeInfo, error = _routeInfo.error, props = _routeInfo.props, __N_SSG = _routeInfo.__N_SSG, __N_SSP = _routeInfo.__N_SSP;\n                component = routeInfo.Component;\n\n                if (component && component.unstable_scriptLoader) {\n                  scripts = [].concat(component.unstable_scriptLoader());\n                  scripts.forEach(function (script) {\n                    (0, _script).handleClientScriptLoad(script.props);\n                  });\n                } // handle redirect on client-transition\n\n\n                if (!((__N_SSG || __N_SSP) && props)) {\n                  _context.next = 151;\n                  break;\n                }\n\n                if (!(props.pageProps && props.pageProps.__N_REDIRECT)) {\n                  _context.next = 135;\n                  break;\n                }\n\n                // Use the destination from redirect without adding locale\n                options.locale = false;\n                destination = props.pageProps.__N_REDIRECT; // check if destination is internal (resolves to a page) and attempt\n                // client-navigation if it is falling back to hard navigation if\n                // it's not\n\n                if (!(destination.startsWith(\"/\") && props.pageProps.__N_REDIRECT_BASE_PATH !== false)) {\n                  _context.next = 133;\n                  break;\n                }\n\n                parsedHref = (0, _parseRelativeUrl).parseRelativeUrl(destination);\n                parsedHref.pathname = resolveDynamicRoute(parsedHref.pathname, pages);\n                _prepareUrlAs3 = prepareUrlAs(this, destination, destination), newUrl = _prepareUrlAs3.url, newAs = _prepareUrlAs3.as;\n                return _context.abrupt(\"return\", this.change(method, newUrl, newAs, options));\n\n              case 133:\n                handleHardNavigation({\n                  url: destination,\n                  router: this\n                });\n                return _context.abrupt(\"return\", new Promise(function () {}));\n\n              case 135:\n                nextState.isPreview = !!props.__N_PREVIEW; // handle SSG data 404\n\n                if (!(props.notFound === SSG_DATA_NOT_FOUND)) {\n                  _context.next = 151;\n                  break;\n                }\n\n                _context.prev = 137;\n                _context.next = 140;\n                return this.fetchComponent(\"/404\");\n\n              case 140:\n                notFoundRoute = \"/404\";\n                _context.next = 146;\n                break;\n\n              case 143:\n                _context.prev = 143;\n                _context.t3 = _context[\"catch\"](137);\n                notFoundRoute = \"/_error\";\n\n              case 146:\n                _context.next = 148;\n                return this.getRouteInfo({\n                  route: notFoundRoute,\n                  pathname: notFoundRoute,\n                  query: query,\n                  as: as,\n                  resolvedAs: resolvedAs,\n                  routeProps: {\n                    shallow: false\n                  },\n                  locale: nextState.locale,\n                  isPreview: nextState.isPreview\n                });\n\n              case 148:\n                routeInfo = _context.sent;\n\n                if (!(\"type\" in routeInfo)) {\n                  _context.next = 151;\n                  break;\n                }\n\n                throw new Error(\"Unexpected middleware effect on /404\");\n\n              case 151:\n                Router.events.emit(\"beforeHistoryChange\", as, routeProps);\n                this.changeState(method, url, as, options);\n\n                if (isQueryUpdating && pathname === \"/_error\" && ((ref1 = self.__NEXT_DATA__.props) == null ? void 0 : (ref2 = ref1.pageProps) == null ? void 0 : ref2.statusCode) === 500 && (props == null ? void 0 : props.pageProps)) {\n                  // ensure statusCode is still correct for static 500 page\n                  // when updating query information\n                  props.pageProps.statusCode = 500;\n                }\n\n                // shallow routing is only allowed for same page URL changes.\n                isValidShallowRoute = options.shallow && nextState.route === ((_route = routeInfo.route) != null ? _route : route);\n                shouldScroll = (_scroll = options.scroll) != null ? _scroll : !isValidShallowRoute;\n                resetScroll = shouldScroll ? {\n                  x: 0,\n                  y: 0\n                } : null;\n                _context.next = 159;\n                return this.set(_objectSpread(_objectSpread({}, nextState), {}, {\n                  route: route,\n                  pathname: pathname,\n                  query: query,\n                  asPath: cleanedAs,\n                  isFallback: false\n                }), routeInfo, forcedScroll != null ? forcedScroll : resetScroll).catch(function (e) {\n                  if (e.cancelled) error = error || e;else throw e;\n                });\n\n              case 159:\n                if (!error) {\n                  _context.next = 162;\n                  break;\n                }\n\n                if (!isQueryUpdating) {\n                  Router.events.emit(\"routeChangeError\", error, cleanedAs, routeProps);\n                }\n\n                throw error;\n\n              case 162:\n                if (process.env.__NEXT_I18N_SUPPORT) {\n                  if (nextState.locale) {\n                    document.documentElement.lang = nextState.locale;\n                  }\n                }\n\n                if (!isQueryUpdating) {\n                  Router.events.emit(\"routeChangeComplete\", as, routeProps);\n                } // A hash mark # is the optional last part of a URL\n\n\n                hashRegex = /#.+$/;\n\n                if (shouldScroll && hashRegex.test(as)) {\n                  this.scrollToHash(as);\n                }\n\n                return _context.abrupt(\"return\", true);\n\n              case 169:\n                _context.prev = 169;\n                _context.t4 = _context[\"catch\"](109);\n\n                if (!((0, _isError).default(_context.t4) && _context.t4.cancelled)) {\n                  _context.next = 173;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", false);\n\n              case 173:\n                throw _context.t4;\n\n              case 174:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[37, 42], [50, 59], [109, 169], [137, 143]]);\n      }));\n\n      function change(_x, _x2, _x3, _x4, _x5) {\n        return _change.apply(this, arguments);\n      }\n\n      return change;\n    }()\n  }, {\n    key: \"changeState\",\n    value: function changeState(method, url, as) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n      if (process.env.NODE_ENV !== \"production\") {\n        if (typeof window.history === \"undefined\") {\n          console.error(\"Warning: window.history is not available.\");\n          return;\n        }\n\n        if (typeof window.history[method] === \"undefined\") {\n          console.error(\"Warning: window.history.\".concat(method, \" is not available\"));\n          return;\n        }\n      }\n\n      if (method !== \"pushState\" || (0, _utils).getURL() !== as) {\n        this._shallow = options.shallow;\n        window.history[method]({\n          url: url,\n          as: as,\n          options: options,\n          __N: true,\n          key: this._key = method !== \"pushState\" ? this._key : createKey()\n        }, // Most browsers currently ignores this parameter, although they may use it in the future.\n        // Passing the empty string here should be safe against future changes to the method.\n        // https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState\n        \"\", as);\n      }\n    }\n  }, {\n    key: \"handleRouteInfoError\",\n    value: function () {\n      var _handleRouteInfoError = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(err, pathname, query, as, routeProps, loadErrorFail) {\n        var Component, styleSheets, props, _yield$this$fetchComp, routeInfo;\n\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                console.error(err);\n\n                if (!err.cancelled) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                throw err;\n\n              case 3:\n                if (!((0, _routeLoader).isAssetError(err) || loadErrorFail)) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                Router.events.emit(\"routeChangeError\", err, as, routeProps); // If we can't load the page it could be one of following reasons\n                //  1. Page doesn't exists\n                //  2. Page does exist in a different zone\n                //  3. Internal error while loading the page\n                // So, doing a hard reload is the proper way to deal with this.\n\n                handleHardNavigation({\n                  url: as,\n                  router: this\n                }); // Changing the URL doesn't block executing the current code path.\n                // So let's throw a cancellation error stop the routing logic.\n\n                throw buildCancellationError();\n\n              case 7:\n                _context2.prev = 7;\n\n                if (!(typeof Component === \"undefined\" || typeof styleSheets === \"undefined\")) {\n                  _context2.next = 14;\n                  break;\n                }\n\n                _context2.next = 11;\n                return this.fetchComponent(\"/_error\");\n\n              case 11:\n                _yield$this$fetchComp = _context2.sent;\n                Component = _yield$this$fetchComp.page;\n                styleSheets = _yield$this$fetchComp.styleSheets;\n\n              case 14:\n                routeInfo = {\n                  props: props,\n                  Component: Component,\n                  styleSheets: styleSheets,\n                  err: err,\n                  error: err\n                };\n\n                if (routeInfo.props) {\n                  _context2.next = 26;\n                  break;\n                }\n\n                _context2.prev = 16;\n                _context2.next = 19;\n                return this.getInitialProps(Component, {\n                  err: err,\n                  pathname: pathname,\n                  query: query\n                });\n\n              case 19:\n                routeInfo.props = _context2.sent;\n                _context2.next = 26;\n                break;\n\n              case 22:\n                _context2.prev = 22;\n                _context2.t0 = _context2[\"catch\"](16);\n                console.error(\"Error in error page `getInitialProps`: \", _context2.t0);\n                routeInfo.props = {};\n\n              case 26:\n                return _context2.abrupt(\"return\", routeInfo);\n\n              case 29:\n                _context2.prev = 29;\n                _context2.t1 = _context2[\"catch\"](7);\n                return _context2.abrupt(\"return\", this.handleRouteInfoError((0, _isError).default(_context2.t1) ? _context2.t1 : new Error(_context2.t1 + \"\"), pathname, query, as, routeProps, true));\n\n              case 32:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[7, 29], [16, 22]]);\n      }));\n\n      function handleRouteInfoError(_x6, _x7, _x8, _x9, _x10, _x11) {\n        return _handleRouteInfoError.apply(this, arguments);\n      }\n\n      return handleRouteInfoError;\n    }()\n  }, {\n    key: \"getRouteInfo\",\n    value: function () {\n      var _getRouteInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(_ref2) {\n        var _this2 = this;\n\n        var requestedRoute, pathname, query, as, resolvedAs, routeProps, locale, hasMiddleware, isPreview, unstable_skipClientCache, route, ref, ref3, ref4, handleCancelled, existingInfo, cachedRouteInfo, fetchNextDataParams, data, routeInfo, _require, isValidElementType, useStreamedFlightData, shouldFetchData, _yield$this$_getData, props, cacheKey;\n\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                requestedRoute = _ref2.route, pathname = _ref2.pathname, query = _ref2.query, as = _ref2.as, resolvedAs = _ref2.resolvedAs, routeProps = _ref2.routeProps, locale = _ref2.locale, hasMiddleware = _ref2.hasMiddleware, isPreview = _ref2.isPreview, unstable_skipClientCache = _ref2.unstable_skipClientCache;\n\n                /**\n                * This `route` binding can change if there's a rewrite\n                * so we keep a reference to the original requested route\n                * so we can store the cache for it and avoid re-requesting every time\n                * for shallow routing purposes.\n                */\n                route = requestedRoute;\n                _context4.prev = 2;\n                handleCancelled = getCancelledHandler({\n                  route: route,\n                  router: this\n                });\n                existingInfo = this.components[route];\n\n                if (!(!hasMiddleware && routeProps.shallow && existingInfo && this.route === route)) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", existingInfo);\n\n              case 7:\n                cachedRouteInfo = existingInfo && !(\"initial\" in existingInfo) && process.env.NODE_ENV !== \"development\" ? existingInfo : undefined;\n                fetchNextDataParams = {\n                  dataHref: this.pageLoader.getDataHref({\n                    href: (0, _formatUrl).formatWithValidation({\n                      pathname: pathname,\n                      query: query\n                    }),\n                    skipInterpolation: true,\n                    asPath: resolvedAs,\n                    locale: locale\n                  }),\n                  hasMiddleware: true,\n                  isServerRender: this.isSsr,\n                  parseJSON: true,\n                  inflightCache: this.sdc,\n                  persistCache: !isPreview,\n                  isPrefetch: false,\n                  unstable_skipClientCache: unstable_skipClientCache\n                };\n                _context4.next = 11;\n                return withMiddlewareEffects({\n                  fetchData: function fetchData() {\n                    return fetchNextData(fetchNextDataParams);\n                  },\n                  asPath: resolvedAs,\n                  locale: locale,\n                  router: this\n                });\n\n              case 11:\n                data = _context4.sent;\n                handleCancelled();\n\n                if (!((data == null ? void 0 : (ref = data.effect) == null ? void 0 : ref.type) === \"redirect-internal\" || (data == null ? void 0 : (ref3 = data.effect) == null ? void 0 : ref3.type) === \"redirect-external\")) {\n                  _context4.next = 15;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", data.effect);\n\n              case 15:\n                if (!((data == null ? void 0 : (ref4 = data.effect) == null ? void 0 : ref4.type) === \"rewrite\")) {\n                  _context4.next = 25;\n                  break;\n                }\n\n                route = (0, _removeTrailingSlash).removeTrailingSlash(data.effect.resolvedHref);\n                pathname = data.effect.resolvedHref;\n                query = _objectSpread(_objectSpread({}, query), data.effect.parsedAs.query);\n                resolvedAs = data.effect.parsedAs.pathname; // Check again the cache with the new destination.\n\n                existingInfo = this.components[route];\n\n                if (!(routeProps.shallow && existingInfo && this.route === route && !hasMiddleware)) {\n                  _context4.next = 24;\n                  break;\n                }\n\n                // If we have a match with the current route due to rewrite,\n                // we can copy the existing information to the rewritten one.\n                // Then, we return the information along with the matched route.\n                this.components[requestedRoute] = _objectSpread(_objectSpread({}, existingInfo), {}, {\n                  route: route\n                });\n                return _context4.abrupt(\"return\", _objectSpread(_objectSpread({}, existingInfo), {}, {\n                  route: route\n                }));\n\n              case 24:\n                cachedRouteInfo = existingInfo && !(\"initial\" in existingInfo) && process.env.NODE_ENV !== \"development\" ? existingInfo : undefined;\n\n              case 25:\n                if (!(route === \"/api\" || route.startsWith(\"/api/\"))) {\n                  _context4.next = 28;\n                  break;\n                }\n\n                handleHardNavigation({\n                  url: resolvedAs,\n                  router: this\n                });\n                return _context4.abrupt(\"return\", new Promise(function () {}));\n\n              case 28:\n                _context4.t0 = cachedRouteInfo;\n\n                if (_context4.t0) {\n                  _context4.next = 33;\n                  break;\n                }\n\n                _context4.next = 32;\n                return this.fetchComponent(route).then(function (res) {\n                  return {\n                    Component: res.page,\n                    styleSheets: res.styleSheets,\n                    __N_SSG: res.mod.__N_SSG,\n                    __N_SSP: res.mod.__N_SSP,\n                    __N_RSC: !!res.mod.__next_rsc__\n                  };\n                });\n\n              case 32:\n                _context4.t0 = _context4.sent;\n\n              case 33:\n                routeInfo = _context4.t0;\n\n                if (!(process.env.NODE_ENV !== \"production\")) {\n                  _context4.next = 38;\n                  break;\n                }\n\n                _require = require(\"next/dist/compiled/react-is\"), isValidElementType = _require.isValidElementType;\n\n                if (isValidElementType(routeInfo.Component)) {\n                  _context4.next = 38;\n                  break;\n                }\n\n                throw new Error(\"The default export is not a React Component in page: \\\"\".concat(pathname, \"\\\"\"));\n\n              case 38:\n                /**\n                * For server components, non-SSR pages will have statically optimized\n                * flight data in a production build. So only development and SSR pages\n                * will always have the real-time generated and streamed flight data.\n                */\n                useStreamedFlightData = routeInfo.__N_RSC && (process.env.NODE_ENV !== \"production\" || routeInfo.__N_SSP);\n                shouldFetchData = routeInfo.__N_SSG || routeInfo.__N_SSP || routeInfo.__N_RSC;\n                _context4.next = 42;\n                return this._getData( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n                  var _ref4, json;\n\n                  return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          if (!(shouldFetchData && !useStreamedFlightData)) {\n                            _context3.next = 9;\n                            break;\n                          }\n\n                          _context3.t0 = data;\n\n                          if (_context3.t0) {\n                            _context3.next = 6;\n                            break;\n                          }\n\n                          _context3.next = 5;\n                          return fetchNextData({\n                            dataHref: _this2.pageLoader.getDataHref({\n                              href: (0, _formatUrl).formatWithValidation({\n                                pathname: pathname,\n                                query: query\n                              }),\n                              asPath: resolvedAs,\n                              locale: locale\n                            }),\n                            isServerRender: _this2.isSsr,\n                            parseJSON: true,\n                            inflightCache: _this2.sdc,\n                            persistCache: !isPreview,\n                            isPrefetch: false,\n                            unstable_skipClientCache: unstable_skipClientCache\n                          });\n\n                        case 5:\n                          _context3.t0 = _context3.sent;\n\n                        case 6:\n                          _ref4 = _context3.t0;\n                          json = _ref4.json;\n                          return _context3.abrupt(\"return\", {\n                            props: json\n                          });\n\n                        case 9:\n                          _context3.t1 = {};\n                          _context3.next = 12;\n                          return _this2.getInitialProps(routeInfo.Component, // we provide AppTree later so this needs to be `any`\n                          {\n                            pathname: pathname,\n                            query: query,\n                            asPath: as,\n                            locale: locale,\n                            locales: _this2.locales,\n                            defaultLocale: _this2.defaultLocale\n                          });\n\n                        case 12:\n                          _context3.t2 = _context3.sent;\n                          return _context3.abrupt(\"return\", {\n                            headers: _context3.t1,\n                            props: _context3.t2\n                          });\n\n                        case 14:\n                        case \"end\":\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3);\n                })));\n\n              case 42:\n                _yield$this$_getData = _context4.sent;\n                props = _yield$this$_getData.props;\n\n                // Only bust the data cache for SSP routes although\n                // middleware can skip cache per request with\n                // x-middleware-cache: no-cache as well\n                if (routeInfo.__N_SSP && fetchNextDataParams.dataHref) {\n                  cacheKey = new URL(fetchNextDataParams.dataHref, window.location.href).href;\n                  delete this.sdc[cacheKey];\n                } // we kick off a HEAD request in the background\n                // when a non-prefetch request is made to signal revalidation\n\n\n                if (!this.isPreview && routeInfo.__N_SSG && process.env.NODE_ENV !== \"development\") {\n                  fetchNextData(Object.assign({}, fetchNextDataParams, {\n                    isBackground: true,\n                    persistCache: false,\n                    inflightCache: backgroundCache\n                  })).catch(function () {});\n                }\n\n                if (!routeInfo.__N_RSC) {\n                  _context4.next = 59;\n                  break;\n                }\n\n                _context4.t1 = Object;\n                _context4.t2 = props.pageProps;\n\n                if (!useStreamedFlightData) {\n                  _context4.next = 55;\n                  break;\n                }\n\n                _context4.next = 52;\n                return this._getData(function () {\n                  return _this2._getFlightData((0, _formatUrl).formatWithValidation({\n                    query: _objectSpread(_objectSpread({}, query), {}, {\n                      __flight__: \"1\"\n                    }),\n                    pathname: (0, _isDynamic).isDynamicRoute(route) ? interpolateAs(pathname, (0, _parseRelativeUrl).parseRelativeUrl(resolvedAs).pathname, query).result : pathname\n                  }));\n                });\n\n              case 52:\n                _context4.t3 = _context4.sent.data;\n                _context4.next = 56;\n                break;\n\n              case 55:\n                _context4.t3 = props.__flight__;\n\n              case 56:\n                _context4.t4 = _context4.t3;\n                _context4.t5 = {\n                  __flight__: _context4.t4\n                };\n                props.pageProps = _context4.t1.assign.call(_context4.t1, _context4.t2, _context4.t5);\n\n              case 59:\n                routeInfo.props = props;\n                routeInfo.route = route;\n                routeInfo.query = query;\n                routeInfo.resolvedAs = resolvedAs;\n                this.components[route] = routeInfo; // If the route was rewritten in the process of fetching data,\n                // we update the cache to allow hitting the same data for shallow requests.\n\n                if (route !== requestedRoute) {\n                  this.components[requestedRoute] = _objectSpread(_objectSpread({}, routeInfo), {}, {\n                    route: route\n                  });\n                }\n\n                return _context4.abrupt(\"return\", routeInfo);\n\n              case 68:\n                _context4.prev = 68;\n                _context4.t6 = _context4[\"catch\"](2);\n                return _context4.abrupt(\"return\", this.handleRouteInfoError((0, _isError).getProperError(_context4.t6), pathname, query, as, routeProps));\n\n              case 71:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[2, 68]]);\n      }));\n\n      function getRouteInfo(_x12) {\n        return _getRouteInfo.apply(this, arguments);\n      }\n\n      return getRouteInfo;\n    }()\n  }, {\n    key: \"set\",\n    value: function set(state, data, resetScroll) {\n      this.state = state;\n      return this.sub(data, this.components[\"/_app\"].Component, resetScroll);\n    }\n    /**\n    * Callback to execute before replacing router state\n    * @param cb callback to be executed\n    */\n\n  }, {\n    key: \"beforePopState\",\n    value: function beforePopState(cb) {\n      this._bps = cb;\n    }\n  }, {\n    key: \"onlyAHashChange\",\n    value: function onlyAHashChange(as) {\n      if (!this.asPath) return false;\n\n      var _this$asPath$split = this.asPath.split(\"#\"),\n          _this$asPath$split2 = _slicedToArray(_this$asPath$split, 2),\n          oldUrlNoHash = _this$asPath$split2[0],\n          oldHash = _this$asPath$split2[1];\n\n      var _as$split = as.split(\"#\"),\n          _as$split2 = _slicedToArray(_as$split, 2),\n          newUrlNoHash = _as$split2[0],\n          newHash = _as$split2[1]; // Makes sure we scroll to the provided hash if the url/hash are the same\n\n\n      if (newHash && oldUrlNoHash === newUrlNoHash && oldHash === newHash) {\n        return true;\n      } // If the urls are change, there's more than a hash change\n\n\n      if (oldUrlNoHash !== newUrlNoHash) {\n        return false;\n      } // If the hash has changed, then it's a hash only change.\n      // This check is necessary to handle both the enter and\n      // leave hash === '' cases. The identity case falls through\n      // and is treated as a next reload.\n\n\n      return oldHash !== newHash;\n    }\n  }, {\n    key: \"scrollToHash\",\n    value: function scrollToHash(as) {\n      var _as$split3 = as.split(\"#\"),\n          _as$split4 = _slicedToArray(_as$split3, 2),\n          _as$split4$ = _as$split4[1],\n          hash = _as$split4$ === void 0 ? \"\" : _as$split4$; // Scroll to top if the hash is just `#` with no value or `#top`\n      // To mirror browsers\n\n\n      if (hash === \"\" || hash === \"top\") {\n        window.scrollTo(0, 0);\n        return;\n      } // Decode hash to make non-latin anchor works.\n\n\n      var rawHash = decodeURIComponent(hash); // First we check if the element by id is found\n\n      var idEl = document.getElementById(rawHash);\n\n      if (idEl) {\n        idEl.scrollIntoView();\n        return;\n      } // If there's no element with the id, we check the `name` property\n      // To mirror browsers\n\n\n      var nameEl = document.getElementsByName(rawHash)[0];\n\n      if (nameEl) {\n        nameEl.scrollIntoView();\n      }\n    }\n  }, {\n    key: \"urlIsNew\",\n    value: function urlIsNew(asPath) {\n      return this.asPath !== asPath;\n    }\n    /**\n    * Prefetch page code, you may wait for the data during page rendering.\n    * This feature only works in production!\n    * @param url the href of prefetched page\n    * @param asPath the as path of the prefetched page\n    */\n\n  }, {\n    key: \"prefetch\",\n    value: function () {\n      var _prefetch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(url) {\n        var _this3 = this;\n\n        var asPath,\n            options,\n            parsed,\n            pathname,\n            query,\n            parsedAs,\n            localePathResult,\n            pages,\n            resolvedAs,\n            locale,\n            isMiddlewareMatch,\n            rewrites,\n            _yield$getClientBuild,\n            rewritesResult,\n            data,\n            route,\n            _args5 = arguments;\n\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                asPath = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : url;\n                options = _args5.length > 2 && _args5[2] !== undefined ? _args5[2] : {};\n                parsed = (0, _parseRelativeUrl).parseRelativeUrl(url);\n                pathname = parsed.pathname, query = parsed.query;\n\n                if (process.env.__NEXT_I18N_SUPPORT) {\n                  if (options.locale === false) {\n                    pathname = (0, _normalizeLocalePath).normalizeLocalePath(pathname, this.locales).pathname;\n                    parsed.pathname = pathname;\n                    url = (0, _formatUrl).formatWithValidation(parsed);\n                    parsedAs = (0, _parseRelativeUrl).parseRelativeUrl(asPath);\n                    localePathResult = (0, _normalizeLocalePath).normalizeLocalePath(parsedAs.pathname, this.locales);\n                    parsedAs.pathname = localePathResult.pathname;\n                    options.locale = localePathResult.detectedLocale || this.defaultLocale;\n                    asPath = (0, _formatUrl).formatWithValidation(parsedAs);\n                  }\n                }\n\n                _context5.next = 7;\n                return this.pageLoader.getPageList();\n\n              case 7:\n                pages = _context5.sent;\n                resolvedAs = asPath;\n                locale = typeof options.locale !== \"undefined\" ? options.locale || undefined : this.locale;\n                _context5.next = 12;\n                return matchesMiddleware({\n                  asPath: asPath,\n                  locale: locale,\n                  router: this\n                });\n\n              case 12:\n                isMiddlewareMatch = _context5.sent;\n\n                if (!(process.env.__NEXT_HAS_REWRITES && asPath.startsWith(\"/\"))) {\n                  _context5.next = 23;\n                  break;\n                }\n\n                _context5.next = 16;\n                return (0, _routeLoader).getClientBuildManifest();\n\n              case 16:\n                _yield$getClientBuild = _context5.sent;\n                rewrites = _yield$getClientBuild.__rewrites;\n                rewritesResult = (0, _resolveRewrites).default((0, _addBasePath).addBasePath((0, _addLocale).addLocale(asPath, this.locale), true), pages, rewrites, parsed.query, function (p) {\n                  return resolveDynamicRoute(p, pages);\n                }, this.locales);\n\n                if (!rewritesResult.externalDest) {\n                  _context5.next = 21;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\");\n\n              case 21:\n                resolvedAs = (0, _removeLocale).removeLocale((0, _removeBasePath).removeBasePath(rewritesResult.asPath), this.locale);\n\n                if (rewritesResult.matchedPage && rewritesResult.resolvedHref) {\n                  // if this directly matches a page we need to update the href to\n                  // allow the correct page chunk to be loaded\n                  pathname = rewritesResult.resolvedHref;\n                  parsed.pathname = pathname;\n\n                  if (!isMiddlewareMatch) {\n                    url = (0, _formatUrl).formatWithValidation(parsed);\n                  }\n                }\n\n              case 23:\n                parsed.pathname = resolveDynamicRoute(parsed.pathname, pages);\n\n                if ((0, _isDynamic).isDynamicRoute(parsed.pathname)) {\n                  pathname = parsed.pathname;\n                  parsed.pathname = pathname;\n                  Object.assign(query, (0, _routeMatcher).getRouteMatcher((0, _routeRegex).getRouteRegex(parsed.pathname))((0, _parsePath).parsePath(asPath).pathname) || {});\n\n                  if (!isMiddlewareMatch) {\n                    url = (0, _formatUrl).formatWithValidation(parsed);\n                  }\n                } // Prefetch is not supported in development mode because it would trigger on-demand-entries\n\n\n                if (!(process.env.NODE_ENV !== \"production\")) {\n                  _context5.next = 27;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\");\n\n              case 27:\n                _context5.next = 29;\n                return withMiddlewareEffects({\n                  fetchData: function fetchData() {\n                    return fetchNextData({\n                      dataHref: _this3.pageLoader.getDataHref({\n                        href: (0, _formatUrl).formatWithValidation({\n                          pathname: pathname,\n                          query: query\n                        }),\n                        skipInterpolation: true,\n                        asPath: resolvedAs,\n                        locale: locale\n                      }),\n                      hasMiddleware: true,\n                      isServerRender: _this3.isSsr,\n                      parseJSON: true,\n                      inflightCache: _this3.sdc,\n                      persistCache: !_this3.isPreview,\n                      isPrefetch: true\n                    });\n                  },\n                  asPath: asPath,\n                  locale: locale,\n                  router: this\n                });\n\n              case 29:\n                data = _context5.sent;\n\n                /**\n                * If there was a rewrite we apply the effects of the rewrite on the\n                * current parameters for the prefetch.\n                */\n                if ((data == null ? void 0 : data.effect.type) === \"rewrite\") {\n                  parsed.pathname = data.effect.resolvedHref;\n                  pathname = data.effect.resolvedHref;\n                  query = _objectSpread(_objectSpread({}, query), data.effect.parsedAs.query);\n                  resolvedAs = data.effect.parsedAs.pathname;\n                  url = (0, _formatUrl).formatWithValidation(parsed);\n                }\n                /**\n                * If there is a redirect to an external destination then we don't have\n                * to prefetch content as it will be unused.\n                */\n\n\n                if (!((data == null ? void 0 : data.effect.type) === \"redirect-external\")) {\n                  _context5.next = 33;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\");\n\n              case 33:\n                route = (0, _removeTrailingSlash).removeTrailingSlash(pathname);\n                _context5.next = 36;\n                return Promise.all([this.pageLoader._isSsg(route).then(function (isSsg) {\n                  return isSsg ? fetchNextData({\n                    dataHref: (data == null ? void 0 : data.dataHref) || _this3.pageLoader.getDataHref({\n                      href: url,\n                      asPath: resolvedAs,\n                      locale: locale\n                    }),\n                    isServerRender: false,\n                    parseJSON: true,\n                    inflightCache: _this3.sdc,\n                    persistCache: !_this3.isPreview,\n                    isPrefetch: true,\n                    unstable_skipClientCache: options.unstable_skipClientCache || options.priority\n                  }).then(function () {\n                    return false;\n                  }) : false;\n                }), this.pageLoader[options.priority ? \"loadPage\" : \"prefetch\"](route)]);\n\n              case 36:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function prefetch(_x13) {\n        return _prefetch.apply(this, arguments);\n      }\n\n      return prefetch;\n    }()\n  }, {\n    key: \"fetchComponent\",\n    value: function () {\n      var _fetchComponent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(route) {\n        var handleCancelled, componentResult;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                handleCancelled = getCancelledHandler({\n                  route: route,\n                  router: this\n                });\n                _context6.prev = 1;\n                _context6.next = 4;\n                return this.pageLoader.loadPage(route);\n\n              case 4:\n                componentResult = _context6.sent;\n                handleCancelled();\n                return _context6.abrupt(\"return\", componentResult);\n\n              case 9:\n                _context6.prev = 9;\n                _context6.t0 = _context6[\"catch\"](1);\n                handleCancelled();\n                throw _context6.t0;\n\n              case 13:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this, [[1, 9]]);\n      }));\n\n      function fetchComponent(_x14) {\n        return _fetchComponent.apply(this, arguments);\n      }\n\n      return fetchComponent;\n    }()\n  }, {\n    key: \"_getData\",\n    value: function _getData(fn) {\n      var _this4 = this;\n\n      var cancelled = false;\n\n      var cancel = function cancel() {\n        cancelled = true;\n      };\n\n      this.clc = cancel;\n      return fn().then(function (data) {\n        if (cancel === _this4.clc) {\n          _this4.clc = null;\n        }\n\n        if (cancelled) {\n          var err = new Error(\"Loading initial props cancelled\");\n          err.cancelled = true;\n          throw err;\n        }\n\n        return data;\n      });\n    }\n  }, {\n    key: \"_getFlightData\",\n    value: function _getFlightData(dataHref) {\n      // Do not cache RSC flight response since it's not a static resource\n      return fetchNextData({\n        dataHref: dataHref,\n        isServerRender: true,\n        parseJSON: false,\n        inflightCache: this.sdc,\n        persistCache: false,\n        isPrefetch: false\n      }).then(function (_ref5) {\n        var text = _ref5.text;\n        return {\n          data: text\n        };\n      });\n    }\n  }, {\n    key: \"getInitialProps\",\n    value: function getInitialProps(Component, ctx) {\n      var App = this.components[\"/_app\"].Component;\n\n      var AppTree = this._wrapApp(App);\n\n      ctx.AppTree = AppTree;\n      return (0, _utils).loadGetInitialProps(App, {\n        AppTree: AppTree,\n        Component: Component,\n        router: this,\n        ctx: ctx\n      });\n    }\n  }, {\n    key: \"route\",\n    get: function get() {\n      return this.state.route;\n    }\n  }, {\n    key: \"pathname\",\n    get: function get() {\n      return this.state.pathname;\n    }\n  }, {\n    key: \"query\",\n    get: function get() {\n      return this.state.query;\n    }\n  }, {\n    key: \"asPath\",\n    get: function get() {\n      return this.state.asPath;\n    }\n  }, {\n    key: \"locale\",\n    get: function get() {\n      return this.state.locale;\n    }\n  }, {\n    key: \"isFallback\",\n    get: function get() {\n      return this.state.isFallback;\n    }\n  }, {\n    key: \"isPreview\",\n    get: function get() {\n      return this.state.isPreview;\n    }\n  }]);\n\n  return Router;\n}();\n\n_defineProperty(Router, \"events\", (0, _mitt).default());\n\nexports.default = Router;\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction buildCancellationError() {\n  return Object.assign(new Error(\"Route Cancelled\"), {\n    cancelled: true\n  });\n}\n\nfunction isLocalURL(url) {\n  // prevent a hydration mismatch on href for url with anchor refs\n  if (!(0, _utils).isAbsoluteUrl(url)) return true;\n\n  try {\n    // absolute urls can be local if they are on the same origin\n    var locationOrigin = (0, _utils).getLocationOrigin();\n    var resolved = new URL(url, locationOrigin);\n    return resolved.origin === locationOrigin && (0, _hasBasePath).hasBasePath(resolved.pathname);\n  } catch (_) {\n    return false;\n  }\n}\n\nfunction interpolateAs(route, asPathname, query) {\n  var interpolatedRoute = \"\";\n  var dynamicRegex = (0, _routeRegex).getRouteRegex(route);\n  var dynamicGroups = dynamicRegex.groups;\n  var dynamicMatches = // Try to match the dynamic route against the asPath\n  (asPathname !== route ? (0, _routeMatcher).getRouteMatcher(dynamicRegex)(asPathname) : \"\") || // Fall back to reading the values from the href\n  // TODO: should this take priority; also need to change in the router.\n  query;\n  interpolatedRoute = route;\n  var params = Object.keys(dynamicGroups);\n\n  if (!params.every(function (param) {\n    var value = dynamicMatches[param] || \"\";\n    var _dynamicGroups$param = dynamicGroups[param],\n        repeat = _dynamicGroups$param.repeat,\n        optional = _dynamicGroups$param.optional; // support single-level catch-all\n    // TODO: more robust handling for user-error (passing `/`)\n\n    var replaced = \"[\".concat(repeat ? \"...\" : \"\").concat(param, \"]\");\n\n    if (optional) {\n      replaced = \"\".concat(!value ? \"/\" : \"\", \"[\").concat(replaced, \"]\");\n    }\n\n    if (repeat && !Array.isArray(value)) value = [value];\n    return (optional || param in dynamicMatches) && ( // Interpolate group into data URL if present\n    interpolatedRoute = interpolatedRoute.replace(replaced, repeat ? value.map( // these values should be fully encoded instead of just\n    // path delimiter escaped since they are being inserted\n    // into the URL and we expect URL encoded segments\n    // when parsing dynamic route params\n    function (segment) {\n      return encodeURIComponent(segment);\n    }).join(\"/\") : encodeURIComponent(value)) || \"/\");\n  })) {\n    interpolatedRoute = \"\" // did not satisfy all requirements\n    ; // n.b. We ignore this error because we handle warning for this case in\n    // development in the `<Link>` component directly.\n  }\n\n  return {\n    params: params,\n    result: interpolatedRoute\n  };\n}\n\nfunction omit(object, keys) {\n  var omitted = {};\n  Object.keys(object).forEach(function (key) {\n    if (!keys.includes(key)) {\n      omitted[key] = object[key];\n    }\n  });\n  return omitted;\n}\n\nfunction resolveHref(router, href, resolveAs) {\n  // we use a dummy base url for relative urls\n  var base;\n  var urlAsString = typeof href === \"string\" ? href : (0, _formatUrl).formatWithValidation(href); // repeated slashes and backslashes in the URL are considered\n  // invalid and will never match a Next.js page/file\n\n  var urlProtoMatch = urlAsString.match(/^[a-zA-Z]{1,}:\\/\\//);\n  var urlAsStringNoProto = urlProtoMatch ? urlAsString.slice(urlProtoMatch[0].length) : urlAsString;\n  var urlParts = urlAsStringNoProto.split(\"?\");\n\n  if ((urlParts[0] || \"\").match(/(\\/\\/|\\\\)/)) {\n    console.error(\"Invalid href passed to next/router: \".concat(urlAsString, \", repeated forward-slashes (//) or backslashes \\\\ are not valid in the href\"));\n    var normalizedUrl = (0, _utils).normalizeRepeatedSlashes(urlAsStringNoProto);\n    urlAsString = (urlProtoMatch ? urlProtoMatch[0] : \"\") + normalizedUrl;\n  } // Return because it cannot be routed by the Next.js router\n\n\n  if (!isLocalURL(urlAsString)) {\n    return resolveAs ? [urlAsString] : urlAsString;\n  }\n\n  try {\n    base = new URL(urlAsString.startsWith(\"#\") ? router.asPath : router.pathname, \"http://n\");\n  } catch (_) {\n    // fallback to / for invalid asPath values e.g. //\n    base = new URL(\"/\", \"http://n\");\n  }\n\n  try {\n    var finalUrl = new URL(urlAsString, base);\n    finalUrl.pathname = (0, _normalizeTrailingSlash).normalizePathTrailingSlash(finalUrl.pathname);\n    var interpolatedAs = \"\";\n\n    if ((0, _isDynamic).isDynamicRoute(finalUrl.pathname) && finalUrl.searchParams && resolveAs) {\n      var query = (0, _querystring).searchParamsToUrlQuery(finalUrl.searchParams);\n\n      var _interpolateAs = interpolateAs(finalUrl.pathname, finalUrl.pathname, query),\n          result = _interpolateAs.result,\n          params = _interpolateAs.params;\n\n      if (result) {\n        interpolatedAs = (0, _formatUrl).formatWithValidation({\n          pathname: result,\n          hash: finalUrl.hash,\n          query: omit(query, params)\n        });\n      }\n    } // if the origin didn't change, it means we received a relative href\n\n\n    var resolvedHref = finalUrl.origin === base.origin ? finalUrl.href.slice(finalUrl.origin.length) : finalUrl.href;\n    return resolveAs ? [resolvedHref, interpolatedAs || resolvedHref] : resolvedHref;\n  } catch (_1) {\n    return resolveAs ? [urlAsString] : urlAsString;\n  }\n}\n\nfunction stripOrigin(url) {\n  var origin = (0, _utils).getLocationOrigin();\n  return url.startsWith(origin) ? url.substring(origin.length) : url;\n}\n\nfunction prepareUrlAs(router, url, as) {\n  // If url and as provided as an object representation,\n  // we'll format them into the string version here.\n  var _resolveHref = resolveHref(router, url, true),\n      _resolveHref2 = _slicedToArray(_resolveHref, 2),\n      resolvedHref = _resolveHref2[0],\n      resolvedAs = _resolveHref2[1];\n\n  var origin = (0, _utils).getLocationOrigin();\n  var hrefHadOrigin = resolvedHref.startsWith(origin);\n  var asHadOrigin = resolvedAs && resolvedAs.startsWith(origin);\n  resolvedHref = stripOrigin(resolvedHref);\n  resolvedAs = resolvedAs ? stripOrigin(resolvedAs) : resolvedAs;\n  var preparedUrl = hrefHadOrigin ? resolvedHref : (0, _addBasePath).addBasePath(resolvedHref);\n  var preparedAs = as ? stripOrigin(resolveHref(router, as)) : resolvedAs || resolvedHref;\n  return {\n    url: preparedUrl,\n    as: asHadOrigin ? preparedAs : (0, _addBasePath).addBasePath(preparedAs)\n  };\n}\n\nfunction resolveDynamicRoute(pathname, pages) {\n  var cleanPathname = (0, _removeTrailingSlash).removeTrailingSlash((0, _denormalizePagePath).denormalizePagePath(pathname));\n\n  if (cleanPathname === \"/404\" || cleanPathname === \"/_error\") {\n    return pathname;\n  } // handle resolving href for dynamic routes\n\n\n  if (!pages.includes(cleanPathname)) {\n    // eslint-disable-next-line array-callback-return\n    pages.some(function (page) {\n      if ((0, _isDynamic).isDynamicRoute(page) && (0, _routeRegex).getRouteRegex(page).re.test(cleanPathname)) {\n        pathname = page;\n        return true;\n      }\n    });\n  }\n\n  return (0, _removeTrailingSlash).removeTrailingSlash(pathname);\n}\n\nvar manualScrollRestoration = process.env.__NEXT_SCROLL_RESTORATION && typeof window !== \"undefined\" && \"scrollRestoration\" in window.history && !!function () {\n  try {\n    var v = \"__next\"; // eslint-disable-next-line no-sequences\n\n    return sessionStorage.setItem(v, v), sessionStorage.removeItem(v), true;\n  } catch (n) {}\n}();\nvar SSG_DATA_NOT_FOUND = Symbol(\"SSG_DATA_NOT_FOUND\");\n\nfunction fetchRetry(url, attempts, options) {\n  return fetch(url, {\n    // Cookies are required to be present for Next.js' SSG \"Preview Mode\".\n    // Cookies may also be required for `getServerSideProps`.\n    //\n    // > `fetch` won’t send cookies, unless you set the credentials init\n    // > option.\n    // https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\n    //\n    // > For maximum browser compatibility when it comes to sending &\n    // > receiving cookies, always supply the `credentials: 'same-origin'`\n    // > option instead of relying on the default.\n    // https://github.com/github/fetch#caveats\n    credentials: \"same-origin\",\n    method: options.method || \"GET\",\n    headers: Object.assign({}, options.headers, {\n      \"x-nextjs-data\": \"1\"\n    })\n  }).then(function (response) {\n    return !response.ok && attempts > 1 && response.status >= 500 ? fetchRetry(url, attempts - 1, options) : response;\n  });\n}\n\nvar backgroundCache = {};\n\nfunction fetchNextData(_ref6) {\n  var dataHref = _ref6.dataHref,\n      inflightCache = _ref6.inflightCache,\n      isPrefetch = _ref6.isPrefetch,\n      hasMiddleware = _ref6.hasMiddleware,\n      isServerRender = _ref6.isServerRender,\n      parseJSON = _ref6.parseJSON,\n      persistCache = _ref6.persistCache,\n      isBackground = _ref6.isBackground,\n      unstable_skipClientCache = _ref6.unstable_skipClientCache;\n\n  var _URL = new URL(dataHref, window.location.href),\n      cacheKey = _URL.href;\n\n  var ref5;\n\n  var getData = function getData(params) {\n    return fetchRetry(dataHref, isServerRender ? 3 : 1, {\n      headers: isPrefetch ? {\n        purpose: \"prefetch\"\n      } : {},\n      method: (ref5 = params == null ? void 0 : params.method) != null ? ref5 : \"GET\"\n    }).then(function (response) {\n      if (response.ok && (params == null ? void 0 : params.method) === \"HEAD\") {\n        return {\n          dataHref: dataHref,\n          response: response,\n          text: \"\",\n          json: {}\n        };\n      }\n\n      return response.text().then(function (text) {\n        if (!response.ok) {\n          /**\n          * When the data response is a redirect because of a middleware\n          * we do not consider it an error. The headers must bring the\n          * mapped location.\n          * TODO: Change the status code in the handler.\n          */\n          if (hasMiddleware && [301, 302, 307, 308].includes(response.status)) {\n            return {\n              dataHref: dataHref,\n              response: response,\n              text: text,\n              json: {}\n            };\n          }\n\n          if (response.status === 404) {\n            var ref;\n\n            if ((ref = tryToParseAsJSON(text)) == null ? void 0 : ref.notFound) {\n              return {\n                dataHref: dataHref,\n                json: {\n                  notFound: SSG_DATA_NOT_FOUND\n                },\n                response: response,\n                text: text\n              };\n            }\n            /**\n            * If there is a 404 that is not for SSG we used to fail but if\n            * there is a middleware we must respond with an empty object.\n            * For now we will return the data when there is a middleware.\n            * TODO: Update the server to success on these requests.\n            */\n\n\n            if (hasMiddleware) {\n              return {\n                dataHref: dataHref,\n                response: response,\n                text: text,\n                json: {}\n              };\n            }\n          }\n\n          var error = new Error(\"Failed to load static props\");\n          /**\n          * We should only trigger a server-side transition if this was\n          * caused on a client-side transition. Otherwise, we'd get into\n          * an infinite loop.\n          */\n\n          if (!isServerRender) {\n            (0, _routeLoader).markAssetError(error);\n          }\n\n          throw error;\n        }\n\n        return {\n          dataHref: dataHref,\n          json: parseJSON ? tryToParseAsJSON(text) : {},\n          response: response,\n          text: text\n        };\n      });\n    }).then(function (data) {\n      if (!persistCache || process.env.NODE_ENV !== \"production\" || data.response.headers.get(\"x-middleware-cache\") === \"no-cache\") {\n        delete inflightCache[cacheKey];\n      }\n\n      return data;\n    }).catch(function (err) {\n      delete inflightCache[cacheKey];\n      throw err;\n    });\n  }; // when skipping client cache we wait to update\n  // inflight cache until successful data response\n  // this allows racing click event with fetching newer data\n  // without blocking navigation when stale data is available\n\n\n  if (unstable_skipClientCache && persistCache) {\n    return getData({}).then(function (data) {\n      inflightCache[cacheKey] = Promise.resolve(data);\n      return data;\n    });\n  }\n\n  if (inflightCache[cacheKey] !== undefined) {\n    return inflightCache[cacheKey];\n  }\n\n  return inflightCache[cacheKey] = getData(isBackground ? {\n    method: \"HEAD\"\n  } : {});\n}\n\nfunction tryToParseAsJSON(text) {\n  try {\n    return JSON.parse(text);\n  } catch (error) {\n    return {};\n  }\n}\n\nfunction createKey() {\n  return Math.random().toString(36).slice(2, 10);\n}\n\nfunction handleHardNavigation(_ref7) {\n  var url = _ref7.url,\n      router = _ref7.router;\n\n  // ensure we don't trigger a hard navigation to the same\n  // URL as this can end up with an infinite refresh\n  if (url === (0, _addBasePath).addBasePath((0, _addLocale).addLocale(router.asPath, router.locale))) {\n    throw new Error(\"Invariant: attempted to hard navigate to the same URL \".concat(url, \" \").concat(location.href));\n  }\n\n  window.location.href = url;\n}\n\nvar getCancelledHandler = function getCancelledHandler(_ref8) {\n  var route = _ref8.route,\n      router = _ref8.router;\n  var cancelled = false;\n\n  var cancel = router.clc = function () {\n    cancelled = true;\n  };\n\n  var handleCancelled = function handleCancelled() {\n    if (cancelled) {\n      var error = new Error(\"Abort fetching component for route: \\\"\".concat(route, \"\\\"\"));\n      error.cancelled = true;\n      throw error;\n    }\n\n    if (cancel === router.clc) {\n      router.clc = null;\n    }\n  };\n\n  return handleCancelled;\n};\n\nfunction matchesMiddleware(options) {\n  return Promise.resolve(options.router.pageLoader.getMiddlewareList()).then(function (items) {\n    var _parsePath2 = (0, _parsePath).parsePath(options.asPath),\n        asPathname = _parsePath2.pathname;\n\n    var cleanedAs = (0, _hasBasePath).hasBasePath(asPathname) ? (0, _removeBasePath).removeBasePath(asPathname) : asPathname;\n    return !!(items == null ? void 0 : items.some(function (_ref9) {\n      var _ref10 = _slicedToArray(_ref9, 2),\n          regex = _ref10[0],\n          ssr = _ref10[1];\n\n      return !ssr && new RegExp(regex).test((0, _addLocale).addLocale(cleanedAs, options.locale));\n    }));\n  });\n}\n\nfunction withMiddlewareEffects(options) {\n  return matchesMiddleware(options).then(function (matches) {\n    if (matches && options.fetchData) {\n      return options.fetchData().then(function (data) {\n        return getMiddlewareData(data.dataHref, data.response, options).then(function (effect) {\n          return {\n            dataHref: data.dataHref,\n            json: data.json,\n            response: data.response,\n            text: data.text,\n            effect: effect\n          };\n        });\n      }).catch(function (_err) {\n        /**\n        * TODO: Revisit this in the future.\n        * For now we will not consider middleware data errors to be fatal.\n        * maybe we should revisit in the future.\n        */\n        return null;\n      });\n    }\n\n    return null;\n  });\n}\n\nfunction getMiddlewareData(source, response, options) {\n  var nextConfig = {\n    basePath: options.router.basePath,\n    i18n: {\n      locales: options.router.locales\n    },\n    trailingSlash: Boolean(process.env.__NEXT_TRAILING_SLASH)\n  };\n  var rewriteHeader = response.headers.get(\"x-nextjs-rewrite\");\n  var rewriteTarget = rewriteHeader || response.headers.get(\"x-nextjs-matched-path\");\n  var matchedPath = response.headers.get(\"x-matched-path\");\n\n  if (!rewriteTarget && !(matchedPath == null ? void 0 : matchedPath.includes(\"__next_data_catchall\"))) {\n    rewriteTarget = matchedPath;\n  }\n\n  if (rewriteTarget) {\n    if (rewriteTarget.startsWith(\"/\")) {\n      var parsedRewriteTarget = (0, _parseRelativeUrl).parseRelativeUrl(rewriteTarget);\n      var pathnameInfo = (0, _getNextPathnameInfo).getNextPathnameInfo(parsedRewriteTarget.pathname, {\n        nextConfig: nextConfig,\n        parseData: true\n      });\n      var fsPathname = (0, _removeTrailingSlash).removeTrailingSlash(pathnameInfo.pathname);\n      return Promise.all([options.router.pageLoader.getPageList(), (0, _routeLoader).getClientBuildManifest()]).then(function (_ref11) {\n        var _ref12 = _slicedToArray(_ref11, 2),\n            pages = _ref12[0],\n            rewrites = _ref12[1].__rewrites;\n\n        var as = (0, _addLocale).addLocale(pathnameInfo.pathname, pathnameInfo.locale);\n\n        if ((0, _isDynamic).isDynamicRoute(as) || !rewriteHeader && pages.includes((0, _normalizeLocalePath).normalizeLocalePath((0, _removeBasePath).removeBasePath(as), options.router.locales).pathname)) {\n          var parsedSource = (0, _getNextPathnameInfo).getNextPathnameInfo((0, _parseRelativeUrl).parseRelativeUrl(source).pathname, {\n            parseData: true\n          });\n          as = (0, _addBasePath).addBasePath(parsedSource.pathname);\n          parsedRewriteTarget.pathname = as;\n        }\n\n        if (process.env.__NEXT_HAS_REWRITES) {\n          var result = (0, _resolveRewrites).default(as, pages, rewrites, parsedRewriteTarget.query, function (path) {\n            return resolveDynamicRoute(path, pages);\n          }, options.router.locales);\n\n          if (result.matchedPage) {\n            parsedRewriteTarget.pathname = result.parsedAs.pathname;\n            as = parsedRewriteTarget.pathname;\n            Object.assign(parsedRewriteTarget.query, result.parsedAs.query);\n          }\n        }\n\n        var resolvedHref = !pages.includes(fsPathname) ? resolveDynamicRoute((0, _normalizeLocalePath).normalizeLocalePath((0, _removeBasePath).removeBasePath(parsedRewriteTarget.pathname), options.router.locales).pathname, pages) : fsPathname;\n\n        if ((0, _isDynamic).isDynamicRoute(resolvedHref)) {\n          var matches = (0, _routeMatcher).getRouteMatcher((0, _routeRegex).getRouteRegex(resolvedHref))(as);\n          Object.assign(parsedRewriteTarget.query, matches || {});\n        }\n\n        return {\n          type: \"rewrite\",\n          parsedAs: parsedRewriteTarget,\n          resolvedHref: resolvedHref\n        };\n      });\n    }\n\n    var src = (0, _parsePath).parsePath(source);\n    var pathname = (0, _formatNextPathnameInfo).formatNextPathnameInfo(_objectSpread(_objectSpread({}, (0, _getNextPathnameInfo).getNextPathnameInfo(src.pathname, {\n      nextConfig: nextConfig,\n      parseData: true\n    })), {}, {\n      defaultLocale: options.router.defaultLocale,\n      buildId: \"\"\n    }));\n    return Promise.resolve({\n      type: \"redirect-external\",\n      destination: \"\".concat(pathname).concat(src.query).concat(src.hash)\n    });\n  }\n\n  var redirectTarget = response.headers.get(\"x-nextjs-redirect\");\n\n  if (redirectTarget) {\n    if (redirectTarget.startsWith(\"/\")) {\n      var _src = (0, _parsePath).parsePath(redirectTarget);\n\n      var _pathname3 = (0, _formatNextPathnameInfo).formatNextPathnameInfo(_objectSpread(_objectSpread({}, (0, _getNextPathnameInfo).getNextPathnameInfo(_src.pathname, {\n        nextConfig: nextConfig,\n        parseData: true\n      })), {}, {\n        defaultLocale: options.router.defaultLocale,\n        buildId: \"\"\n      }));\n\n      return Promise.resolve({\n        type: \"redirect-internal\",\n        newAs: \"\".concat(_pathname3).concat(_src.query).concat(_src.hash),\n        newUrl: \"\".concat(_pathname3).concat(_src.query).concat(_src.hash)\n      });\n    }\n\n    return Promise.resolve({\n      type: \"redirect-external\",\n      destination: redirectTarget\n    });\n  }\n\n  return Promise.resolve({\n    type: \"next\"\n  });\n}","map":{"version":3,"mappings":"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","names":["isLocalURL","interpolateAs","resolveHref","createKey","Router","constructor","pathname","query","as","initialProps","pageLoader","App","wrapApp","Component","err","subscription","isFallback","locale","locales","defaultLocale","domainLocales","isPreview","isRsc","e","isFirstPopStateEvent","state","changeState","formatWithValidation","addBasePath","getURL","__N","options","asPath","forcedScroll","url","key","process","env","__NEXT_SCROLL_RESTORATION","manualScrollRestoration","_key","sessionStorage","setItem","JSON","stringify","x","self","pageXOffset","y","pageYOffset","v","getItem","parse","parseRelativeUrl","isSsr","_bps","change","Object","assign","shallow","_shallow","_h","route","removeTrailingSlash","components","initial","props","__N_SSG","__N_SSP","__N_RSC","styleSheets","events","autoExportDynamic","isDynamicRoute","__NEXT_DATA__","autoExport","basePath","__NEXT_ROUTER_BASEPATH","sub","clc","_wrapApp","isLocaleDomain","isReady","gssp","gip","appGip","gsp","location","search","__NEXT_HAS_REWRITES","__NEXT_I18N_SUPPORT","detectDomainLocale","hostname","undefined","_initialMatchesMiddlewarePromise","Promise","resolve","window","startsWith","matchesMiddleware","router","then","matches","_shouldResolveHref","addEventListener","onPopState","history","scrollRestoration","reload","back","push","prepareUrlAs","replace","method","handleHardNavigation","isQueryUpdating","shouldResolveHref","parsePath","nextState","prevLocale","parsedAs","hasBasePath","removeBasePath","localePathResult","normalizeLocalePath","detectedLocale","didNavigate","includes","addLocale","detectedDomain","domain","asNoBasePath","http","ST","performance","mark","scroll","routeProps","_inFlightRoute","emit","buildCancellationError","cleanedAs","removeLocale","localeChange","onlyAHashChange","scrollToHash","set","isError","default","cancelled","parsed","all","getPageList","getClientBuildManifest","getMiddlewareList","pages","rewrites","__rewrites","urlIsNew","resolvedAs","isMiddlewareMatch","rewritesResult","resolveRewrites","p","resolveDynamicRoute","externalDest","matchedPage","resolvedHref","NODE_ENV","Error","routeMatch","asPathname","routeRegex","getRouteRegex","getRouteMatcher","shouldInterpolate","interpolatedAs","result","missingParams","keys","groups","filter","param","length","console","warn","join","omit","params","getRouteInfo","hasMiddleware","routeInfo","forEach","prefixedAs","rewriteAs","localeResult","curRouteMatch","type","newUrl","newAs","destination","error","component","unstable_scriptLoader","scripts","concat","script","handleClientScriptLoad","pageProps","__N_REDIRECT","__N_REDIRECT_BASE_PATH","parsedHref","__N_PREVIEW","notFound","SSG_DATA_NOT_FOUND","fetchComponent","notFoundRoute","ref2","statusCode","isValidShallowRoute","shouldScroll","resetScroll","catch","document","documentElement","lang","hashRegex","test","loadErrorFail","isAssetError","page","getInitialProps","handleRouteInfoError","routeInfoErr","requestedRoute","unstable_skipClientCache","handleCancelled","getCancelledHandler","existingInfo","cachedRouteInfo","fetchNextDataParams","dataHref","getDataHref","href","skipInterpolation","isServerRender","parseJSON","inflightCache","sdc","persistCache","isPrefetch","withMiddlewareEffects","fetchData","fetchNextData","data","effect","res","mod","__next_rsc__","require","isValidElementType","useStreamedFlightData","shouldFetchData","_getData","json","headers","cacheKey","URL","isBackground","backgroundCache","_getFlightData","__flight__","getProperError","beforePopState","cb","split","oldUrlNoHash","oldHash","newUrlNoHash","newHash","hash","scrollTo","rawHash","decodeURIComponent","idEl","getElementById","scrollIntoView","nameEl","getElementsByName","_isSsg","isSsg","priority","loadPage","componentResult","fn","cancel","text","ctx","AppTree","loadGetInitialProps","mitt","isAbsoluteUrl","locationOrigin","getLocationOrigin","resolved","origin","_","interpolatedRoute","dynamicRegex","dynamicGroups","dynamicMatches","every","value","repeat","optional","replaced","Array","isArray","map","segment","encodeURIComponent","object","omitted","resolveAs","base","urlAsString","urlProtoMatch","match","urlAsStringNoProto","slice","urlParts","normalizedUrl","normalizeRepeatedSlashes","finalUrl","normalizePathTrailingSlash","searchParams","searchParamsToUrlQuery","stripOrigin","substring","hrefHadOrigin","asHadOrigin","preparedUrl","preparedAs","cleanPathname","denormalizePagePath","some","re","removeItem","n","Symbol","fetchRetry","attempts","fetch","credentials","response","ok","status","getData","purpose","tryToParseAsJSON","markAssetError","get","Math","random","toString","items","regex","ssr","RegExp","getMiddlewareData","_err","source","nextConfig","i18n","trailingSlash","Boolean","__NEXT_TRAILING_SLASH","rewriteHeader","rewriteTarget","matchedPath","parsedRewriteTarget","pathnameInfo","getNextPathnameInfo","parseData","fsPathname","parsedSource","path","src","formatNextPathnameInfo","buildId","redirectTarget"],"sources":["../../../../shared/lib/router/router.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}
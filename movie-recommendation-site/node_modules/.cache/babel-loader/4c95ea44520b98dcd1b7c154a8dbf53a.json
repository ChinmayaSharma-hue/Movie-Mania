{"ast":null,"code":"import _slicedToArray from\"E:/Web Dev/project/trydjango/src/movie_db_site/movie-recommendation-site/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,Fragment}from'react';import Titlebar from\"../components/Titlebar\";import Search from\"../components/Search\";import Footer from\"../components/Footer\";import Header from\"../components/Header\";import BoxesBoard from\"../components/BoxesBoard\";import background from'../images/phantomthread.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),search=_React$useState2[0],setSearch=_React$useState2[1];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userEmail=_useState2[0],setUserEmail=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){if(localStorage.getItem('token')===null){window.location.replace('http://localhost:3000/login');}else{fetch('http://127.0.0.1:8000/api/v1/users/auth/user/',{method:'GET',headers:{'Content-Type':'application/json',Authorization:\"Token \".concat(localStorage.getItem('token'))}}).then(function(res){return res.json();}).then(function(data){setUserEmail(data.email);setLoading(false);});}},[]);return/*#__PURE__*/_jsx(\"div\",{children:loading==false&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Header,{search:search,setSearch:setSearch}),/*#__PURE__*/_jsx(Titlebar,{image:background,firstline:\"Find out what movies you're into\",secondline:\"Look up movie details, cast, crew, reviews and more.\",movieTitle:\"Phantom Thread\",movieYear:2017,top:'0px',height:'50px'}),/*#__PURE__*/_jsx(Search,{state:search,setState:setSearch,page:window.location.href}),/*#__PURE__*/_jsx(BoxesBoard,{}),/*#__PURE__*/_jsx(Footer,{})]})});}","map":{"version":3,"names":["React","useState","useEffect","Fragment","Titlebar","Search","Footer","Header","BoxesBoard","background","App","search","setSearch","userEmail","setUserEmail","loading","setLoading","localStorage","getItem","window","location","replace","fetch","method","headers","Authorization","then","res","json","data","email","href"],"sources":["E:/Web Dev/project/trydjango/src/movie_db_site/movie-recommendation-site/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\r\nimport Titlebar from \"../components/Titlebar\";\r\nimport Search from \"../components/Search\";\r\nimport Footer from \"../components/Footer\";\r\nimport Header from \"../components/Header\";\r\nimport BoxesBoard from \"../components/BoxesBoard\";\r\nimport background from '../images/phantomthread.png';\r\n\r\n\r\nexport default function App() {\r\n    const [search, setSearch] = React.useState(0);\r\n    const [userEmail, setUserEmail] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('token') === null) {\r\n            window.location.replace('http://localhost:3000/login');\r\n        } else {\r\n            fetch('http://127.0.0.1:8000/api/v1/users/auth/user/', {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: `Token ${localStorage.getItem('token')}`\r\n                }\r\n            })\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    setUserEmail(data.email);\r\n                    setLoading(false);\r\n                });\r\n        }\r\n    }, []);\r\n    return (\r\n        <div>\r\n            {loading == false &&\r\n                <Fragment>\r\n                    <Header search={search} setSearch={setSearch} />\r\n                    <Titlebar image={background} firstline={\"Find out what movies you're into\"}\r\n                        secondline={\"Look up movie details, cast, crew, reviews and more.\"}\r\n                        movieTitle={\"Phantom Thread\"} movieYear={2017} top={'0px'} height={'50px'} />\r\n                    < Search state={search} setState={setSearch} page={window.location.href} />\r\n                    <BoxesBoard />\r\n                    <Footer />\r\n                </Fragment>\r\n            }\r\n\r\n        </div>\r\n    );\r\n}"],"mappings":"8JAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,QAArC,KAAqD,OAArD,CACA,MAAOC,SAAP,KAAqB,wBAArB,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,MAAOC,WAAP,KAAuB,0BAAvB,CACA,MAAOC,WAAP,KAAuB,6BAAvB,C,wFAGA,cAAe,SAASC,IAAT,EAAe,CAC1B,oBAA4BV,KAAK,CAACC,QAAN,CAAe,CAAf,CAA5B,oDAAOU,MAAP,qBAAeC,SAAf,qBACA,cAAkCX,QAAQ,CAAC,EAAD,CAA1C,wCAAOY,SAAP,eAAkBC,YAAlB,eACA,eAA8Bb,QAAQ,CAAC,IAAD,CAAtC,yCAAOc,OAAP,eAAgBC,UAAhB,eAEAd,SAAS,CAAC,UAAM,CACZ,GAAIe,YAAY,CAACC,OAAb,CAAqB,OAArB,IAAkC,IAAtC,CAA4C,CACxCC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,6BAAxB,EACH,CAFD,IAEO,CACHC,KAAK,CAAC,+CAAD,CAAkD,CACnDC,MAAM,CAAE,KAD2C,CAEnDC,OAAO,CAAE,CACL,eAAgB,kBADX,CAELC,aAAa,iBAAWR,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAFR,CAF0C,CAAlD,CAAL,CAOKQ,IAPL,CAOU,SAAAC,GAAG,QAAIA,IAAG,CAACC,IAAJ,EAAJ,EAPb,EAQKF,IARL,CAQU,SAAAG,IAAI,CAAI,CACVf,YAAY,CAACe,IAAI,CAACC,KAAN,CAAZ,CACAd,UAAU,CAAC,KAAD,CAAV,CACH,CAXL,EAYH,CACJ,CAjBQ,CAiBN,EAjBM,CAAT,CAkBA,mBACI,qBACKD,OAAO,EAAI,KAAX,eACG,MAAC,QAAD,yBACI,KAAC,MAAD,EAAQ,MAAM,CAAEJ,MAAhB,CAAwB,SAAS,CAAEC,SAAnC,EADJ,cAEI,KAAC,QAAD,EAAU,KAAK,CAAEH,UAAjB,CAA6B,SAAS,CAAE,kCAAxC,CACI,UAAU,CAAE,sDADhB,CAEI,UAAU,CAAE,gBAFhB,CAEkC,SAAS,CAAE,IAF7C,CAEmD,GAAG,CAAE,KAFxD,CAE+D,MAAM,CAAE,MAFvE,EAFJ,cAKI,KAAE,MAAF,EAAS,KAAK,CAAEE,MAAhB,CAAwB,QAAQ,CAAEC,SAAlC,CAA6C,IAAI,CAAEO,MAAM,CAACC,QAAP,CAAgBW,IAAnE,EALJ,cAMI,KAAC,UAAD,IANJ,cAOI,KAAC,MAAD,IAPJ,GAFR,EADJ,CAgBH"},"metadata":{},"sourceType":"module"}